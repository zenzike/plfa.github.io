<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>DenotAdequacy: Adequacy of denotational semantics with respect to operational semantics | Programming Language Foundations in Agda
</title><!-- Begin Jekyll SEO tag v2.5.0 -->
<meta name="generator" content="Jekyll v3.8.5" />
<meta property="og:title" content="DenotAdequacy: Adequacy of denotational semantics with respect to operational semantics" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Programming Language Foundations in Agda" />
<meta property="og:description" content="Programming Language Foundations in Agda" />
<link rel="canonical" href="https://plfa.github.io/DenotAdequate/" />
<meta property="og:url" content="https://plfa.github.io/DenotAdequate/" />
<meta property="og:site_name" content="Programming Language Foundations in Agda" />
<script type="application/ld+json">
{"description":"Programming Language Foundations in Agda","@type":"WebPage","url":"https://plfa.github.io/DenotAdequate/","headline":"DenotAdequacy: Adequacy of denotational semantics with respect to operational semantics","@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"></head>
<body><header class="site-header" role="banner">

    <div class="wrapper">

        <a class="site-title" href="/">Programming Language Foundations in Agda
</a>

        <nav class="site-nav">
            <span class="menu-icon">
                <svg viewBox="0 0 18 15" width="18px" height="15px">
                    <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
                    <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
                    <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
                </svg>
            </span>

            <div class="trigger">
                <a class="page-link" href="/">Table of Contents</a>
                <a class="page-link" href="/GettingStarted/">Getting Started</a>
            </div>
        </nav>

    </div>

</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post">

  <header class="post-header">
      <h1 class="post-title">DenotAdequacy: Adequacy of denotational semantics with respect to operational semantics</h1>
  </header>

  <p style="text-align:center;">
    
    <a alt="Previous chapter" href="/DenotSound/">Prev</a>
    &bullet;
    
    
    <a alt="Source code" href="https://github.com/plfa/plfa.github.io/blob/dev/src/plfa/DenotAdequate.lagda">Source</a>
    
    
    &bullet;
    <a alt="Next chapter" href="/Acknowledgements/">Next</a>
    
</p>


  <div class="post-content">
    <pre class="Agda"><a id="226" class="Keyword">module</a> <a id="233" href="/DenotAdequate/" class="Module">plfa.DenotAdequate</a> <a id="252" class="Keyword">where</a></pre>

<h2 id="imports">Imports</h2>

<pre class="Agda"><a id="295" class="Keyword">open</a> <a id="300" class="Keyword">import</a> <a id="307" href="/Untyped/" class="Module">plfa.Untyped</a>
<a id="320" class="Keyword">open</a> <a id="325" class="Keyword">import</a> <a id="332" href="/Denot/" class="Module">plfa.Denot</a>

<a id="344" class="Keyword">open</a> <a id="349" class="Keyword">import</a> <a id="356" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
  <a id="396" class="Keyword">using</a> <a id="402" class="Symbol">(</a><a id="403" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">_≡_</a><a id="406" class="Symbol">;</a> <a id="408" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.Core.html#660" class="Function Operator">_≢_</a><a id="411" class="Symbol">;</a> <a id="413" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a><a id="417" class="Symbol">;</a> <a id="419" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.Core.html#838" class="Function">sym</a><a id="422" class="Symbol">;</a> <a id="424" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.Core.html#887" class="Function">trans</a><a id="429" class="Symbol">;</a> <a id="431" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#1170" class="Function">cong</a><a id="435" class="Symbol">;</a> <a id="437" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#1408" class="Function">cong₂</a><a id="442" class="Symbol">;</a> <a id="444" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.html#1274" class="Function">cong-app</a><a id="452" class="Symbol">)</a>
<a id="454" class="Keyword">open</a> <a id="459" class="Keyword">import</a> <a id="466" href="https://agda.github.io/agda-stdlib/Data.Product.html" class="Module">Data.Product</a> <a id="479" class="Keyword">using</a> <a id="485" class="Symbol">(</a><a id="486" href="https://agda.github.io/agda-stdlib/Data.Product.html#1353" class="Function Operator">_×_</a><a id="489" class="Symbol">;</a> <a id="491" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#69" class="Record">Σ</a><a id="492" class="Symbol">;</a> <a id="494" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">Σ-syntax</a><a id="502" class="Symbol">;</a> <a id="504" href="https://agda.github.io/agda-stdlib/Data.Product.html#881" class="Function">∃</a><a id="505" class="Symbol">;</a> <a id="507" href="https://agda.github.io/agda-stdlib/Data.Product.html#942" class="Function">∃-syntax</a><a id="515" class="Symbol">;</a> <a id="517" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#155" class="Field">proj₁</a><a id="522" class="Symbol">;</a> <a id="524" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#167" class="Field">proj₂</a><a id="529" class="Symbol">)</a>
  <a id="533" class="Keyword">renaming</a> <a id="542" class="Symbol">(</a><a id="543" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">_,_</a> <a id="547" class="Symbol">to</a> <a id="550" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨_,_⟩</a><a id="555" class="Symbol">)</a>
<a id="557" class="Keyword">open</a> <a id="562" class="Keyword">import</a> <a id="569" href="https://agda.github.io/agda-stdlib/Data.Sum.html" class="Module">Data.Sum</a>
<a id="578" class="Keyword">open</a> <a id="583" class="Keyword">import</a> <a id="590" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="607" class="Keyword">using</a> <a id="613" class="Symbol">(</a><a id="614" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#464" class="Function Operator">¬_</a><a id="616" class="Symbol">)</a>
<a id="618" class="Keyword">open</a> <a id="623" class="Keyword">import</a> <a id="630" href="https://agda.github.io/agda-stdlib/Relation.Nullary.Negation.html" class="Module">Relation.Nullary.Negation</a> <a id="656" class="Keyword">using</a> <a id="662" class="Symbol">(</a><a id="663" href="https://agda.github.io/agda-stdlib/Relation.Nullary.Negation.html#560" class="Function">contradiction</a><a id="676" class="Symbol">)</a>
<a id="678" class="Keyword">open</a> <a id="683" class="Keyword">import</a> <a id="690" href="https://agda.github.io/agda-stdlib/Data.Empty.html" class="Module">Data.Empty</a> <a id="701" class="Keyword">using</a> <a id="707" class="Symbol">(</a><a id="708" href="https://agda.github.io/agda-stdlib/Data.Empty.html#360" class="Function">⊥-elim</a><a id="714" class="Symbol">)</a> <a id="716" class="Keyword">renaming</a> <a id="725" class="Symbol">(</a><a id="726" href="https://agda.github.io/agda-stdlib/Data.Empty.html#243" class="Datatype">⊥</a> <a id="728" class="Symbol">to</a> <a id="731" href="https://agda.github.io/agda-stdlib/Data.Empty.html#243" class="Datatype">Bot</a><a id="734" class="Symbol">)</a>
<a id="736" class="Keyword">open</a> <a id="741" class="Keyword">import</a> <a id="748" href="https://agda.github.io/agda-stdlib/Data.Unit.html" class="Module">Data.Unit</a>
<a id="758" class="Keyword">open</a> <a id="763" class="Keyword">import</a> <a id="770" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="787" class="Keyword">using</a> <a id="793" class="Symbol">(</a><a id="794" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#534" class="Datatype">Dec</a><a id="797" class="Symbol">;</a> <a id="799" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a><a id="802" class="Symbol">;</a> <a id="804" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a><a id="806" class="Symbol">)</a></pre>

<p>In this chapter we prove that the denotational semantics is adequate,
that is, if a term M is denotationally equal to a lambda abstraction,
then M multi-step reduces to a lambda abstraction.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ℰ M ≃ ℰ (ƛ N)  implies M —↠ ƛ N' for some N'
</code></pre></div></div>

<p>It is well known that a term can reduce to a lambda abstraction using
full β reduction if and only if it can reduce to a lambda abstraction
using the call-by-name reduction strategy. So we shall prove that ℰ M
≃ ℰ (ƛ N) implies that M halts under call-by-name evaluation, which we
define with a big-step semantics written γ’ ⊢ M ⇓ c, where c is a
closure (a term paired with an environment) and γ’ is an environment
that maps variables to closures</p>

<p>Recall that ℰ M ≃ ℰ (ƛ N) is equivalent to saying that γ ⊢ M ↓ (v ↦
v’) for some v and v’.  We will show that γ ⊢ M ↓ (v ↦ v’) implies
that M halts under call-by-name.  The proof will be an induction on
the derivation of γ ⊢ M ↓ v, and to strengthen the induction
hypothesis, we will relate semantic values to closures using a
<em>logical relation</em> 𝕍.</p>

<p>The rest of this chapter is organized as follows.</p>

<ul>
  <li>
    <p>We loosen the requirement that M result in a function value to
instead require that M result in a value that is greater than or
equal to a function value. We establish several properties about
being ``greater than a function’’.</p>
  </li>
  <li>
    <p>We define the call-by-name big-step semantics of the lambda calculus
and prove that it is deterministic.</p>
  </li>
  <li>
    <p>We define the logical relation 𝕍 that relates values and closures,
and extend it to a relation on terms 𝔼 and environments 𝔾.</p>
  </li>
  <li>
    <p>We prove the main lemma,
that if 𝔾 γ γ’ and γ ⊢ M ↓ v, then 𝔼 v (clos M γ’).</p>
  </li>
  <li>
    <p>We prove adequacy as a corollary to the main lemma.</p>
  </li>
</ul>

<h2 id="the-property-of-being-greater-or-equal-to-a-function">The property of being greater or equal to a function</h2>

<p>We define the following short-hand for saying that a value is
greather-than or equal to a function value.</p>

<pre class="Agda"><a id="AboveFun"></a><a id="2706" href="/DenotAdequate/#2706" class="Function">AboveFun</a> <a id="2715" class="Symbol">:</a> <a id="2717" href="/Denot/#4101" class="Datatype">Value</a> <a id="2723" class="Symbol">→</a> <a id="2725" class="PrimitiveType">Set</a>
<a id="2729" href="/DenotAdequate/#2706" class="Function">AboveFun</a> <a id="2738" href="/DenotAdequate/#2738" class="Bound">v</a> <a id="2740" class="Symbol">=</a> <a id="2742" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">Σ[</a> <a id="2745" href="/DenotAdequate/#2745" class="Bound">v₁</a> <a id="2748" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">∈</a> <a id="2750" href="/Denot/#4101" class="Datatype">Value</a> <a id="2756" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">]</a> <a id="2758" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">Σ[</a> <a id="2761" href="/DenotAdequate/#2761" class="Bound">v₂</a> <a id="2764" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">∈</a> <a id="2766" href="/Denot/#4101" class="Datatype">Value</a> <a id="2772" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">]</a> <a id="2774" href="/DenotAdequate/#2745" class="Bound">v₁</a> <a id="2777" href="/Denot/#4133" class="InductiveConstructor Operator">↦</a> <a id="2779" href="/DenotAdequate/#2761" class="Bound">v₂</a> <a id="2782" href="/Denot/#4466" class="Datatype Operator">⊑</a> <a id="2784" href="/DenotAdequate/#2738" class="Bound">v</a></pre>

<p>If a value v is greater than a function, then an even greater value v’
is too.</p>

<pre class="Agda"><a id="AboveFun-⊑"></a><a id="2891" href="/DenotAdequate/#2891" class="Function">AboveFun-⊑</a> <a id="2902" class="Symbol">:</a> <a id="2904" class="Symbol">∀{</a><a id="2906" href="/DenotAdequate/#2906" class="Bound">v</a> <a id="2908" href="/DenotAdequate/#2908" class="Bound">v&#39;</a> <a id="2911" class="Symbol">:</a> <a id="2913" href="/Denot/#4101" class="Datatype">Value</a><a id="2918" class="Symbol">}</a>
      <a id="2926" class="Symbol">→</a> <a id="2928" href="/DenotAdequate/#2706" class="Function">AboveFun</a> <a id="2937" href="/DenotAdequate/#2906" class="Bound">v</a> <a id="2939" class="Symbol">→</a> <a id="2941" href="/DenotAdequate/#2906" class="Bound">v</a> <a id="2943" href="/Denot/#4466" class="Datatype Operator">⊑</a> <a id="2945" href="/DenotAdequate/#2908" class="Bound">v&#39;</a>
        <a id="2956" class="Comment">-------------------</a>
      <a id="2982" class="Symbol">→</a> <a id="2984" href="/DenotAdequate/#2706" class="Function">AboveFun</a> <a id="2993" href="/DenotAdequate/#2908" class="Bound">v&#39;</a>
<a id="2996" href="/DenotAdequate/#2891" class="Function">AboveFun-⊑</a> <a id="3007" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="3009" href="/DenotAdequate/#3009" class="Bound">v₁</a> <a id="3012" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3014" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="3016" href="/DenotAdequate/#3016" class="Bound">v₂</a> <a id="3019" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3021" href="/DenotAdequate/#3021" class="Bound">lt&#39;</a> <a id="3025" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="3027" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="3029" href="/DenotAdequate/#3029" class="Bound">lt</a> <a id="3032" class="Symbol">=</a> <a id="3034" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="3036" href="/DenotAdequate/#3009" class="Bound">v₁</a> <a id="3039" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3041" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="3043" href="/DenotAdequate/#3016" class="Bound">v₂</a> <a id="3046" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3048" href="/Denot/#4789" class="InductiveConstructor">Trans⊑</a> <a id="3055" href="/DenotAdequate/#3021" class="Bound">lt&#39;</a> <a id="3059" href="/DenotAdequate/#3029" class="Bound">lt</a> <a id="3062" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="3064" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a></pre>

<p>The bottom value ⊥ is not greater than a function.</p>

<pre class="Agda"><a id="AboveFun⊥"></a><a id="3143" href="/DenotAdequate/#3143" class="Function">AboveFun⊥</a> <a id="3153" class="Symbol">:</a> <a id="3155" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#464" class="Function Operator">¬</a> <a id="3157" href="/DenotAdequate/#2706" class="Function">AboveFun</a> <a id="3166" href="/Denot/#4121" class="InductiveConstructor">⊥</a>
<a id="3168" href="/DenotAdequate/#3143" class="Function">AboveFun⊥</a> <a id="3178" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="3180" href="/DenotAdequate/#3180" class="Bound">v₁</a> <a id="3183" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3185" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="3187" href="/DenotAdequate/#3187" class="Bound">v₂</a> <a id="3190" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3192" href="/DenotAdequate/#3192" class="Bound">lt</a> <a id="3195" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="3197" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>
    <a id="3203" class="Keyword">with</a> <a id="3208" href="/Denot/#41305" class="Function">sub-inv-fun</a> <a id="3220" href="/DenotAdequate/#3192" class="Bound">lt</a>
<a id="3223" class="Symbol">...</a> <a id="3227" class="Symbol">|</a> <a id="3229" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="3231" href="/DenotAdequate/#3231" class="Bound">Γ</a> <a id="3233" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3235" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="3237" href="/DenotAdequate/#3237" class="Bound">f</a> <a id="3239" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3241" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="3243" href="/DenotAdequate/#3243" class="Bound">Γ⊆⊥</a> <a id="3247" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3249" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="3251" href="/DenotAdequate/#3251" class="Bound">lt1</a> <a id="3255" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3257" href="/DenotAdequate/#3257" class="Bound">lt2</a> <a id="3261" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="3263" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="3265" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="3267" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>
    <a id="3273" class="Keyword">with</a> <a id="3278" href="/Denot/#30796" class="Function">Funs∈</a> <a id="3284" href="/DenotAdequate/#3237" class="Bound">f</a>
<a id="3286" class="Symbol">...</a> <a id="3290" class="Symbol">|</a> <a id="3292" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="3294" href="/DenotAdequate/#3294" class="Bound">A</a> <a id="3296" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3298" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="3300" href="/DenotAdequate/#3300" class="Bound">B</a> <a id="3302" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3304" href="/DenotAdequate/#3304" class="Bound">m</a> <a id="3306" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="3308" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>
    <a id="3314" class="Keyword">with</a> <a id="3319" class="Bound">Γ⊆⊥</a> <a id="3323" href="/DenotAdequate/#3304" class="Bound">m</a>
<a id="3325" class="Symbol">...</a> <a id="3329" class="Symbol">|</a> <a id="3331" class="Symbol">()</a></pre>

<p>If the join of two values v₁ and v₂ is greater than a function, then
at least one of them is too.</p>

<pre class="Agda"><a id="AboveFun-⊔"></a><a id="3458" href="/DenotAdequate/#3458" class="Function">AboveFun-⊔</a> <a id="3469" class="Symbol">:</a> <a id="3471" class="Symbol">∀{</a><a id="3473" href="/DenotAdequate/#3473" class="Bound">v₁</a> <a id="3476" href="/DenotAdequate/#3476" class="Bound">v₂</a><a id="3478" class="Symbol">}</a>
           <a id="3491" class="Symbol">→</a> <a id="3493" href="/DenotAdequate/#2706" class="Function">AboveFun</a> <a id="3502" class="Symbol">(</a><a id="3503" href="/DenotAdequate/#3473" class="Bound">v₁</a> <a id="3506" href="/Denot/#4163" class="InductiveConstructor Operator">⊔</a> <a id="3508" href="/DenotAdequate/#3476" class="Bound">v₂</a><a id="3510" class="Symbol">)</a>
           <a id="3523" class="Symbol">→</a> <a id="3525" href="/DenotAdequate/#2706" class="Function">AboveFun</a> <a id="3534" href="/DenotAdequate/#3473" class="Bound">v₁</a> <a id="3537" href="https://agda.github.io/agda-stdlib/Data.Sum.Base.html#419" class="Datatype Operator">⊎</a> <a id="3539" href="/DenotAdequate/#2706" class="Function">AboveFun</a> <a id="3548" href="/DenotAdequate/#3476" class="Bound">v₂</a>
<a id="3551" href="/DenotAdequate/#3458" class="Function">AboveFun-⊔</a><a id="3561" class="Symbol">{</a><a id="3562" href="/DenotAdequate/#3562" class="Bound">v₁</a><a id="3564" class="Symbol">}{</a><a id="3566" href="/DenotAdequate/#3566" class="Bound">v₂</a><a id="3568" class="Symbol">}</a> <a id="3570" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="3572" href="/DenotAdequate/#3572" class="Bound">v</a> <a id="3574" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3576" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="3578" href="/DenotAdequate/#3578" class="Bound">v&#39;</a> <a id="3581" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3583" href="/DenotAdequate/#3583" class="Bound">v↦v&#39;⊑v₁⊔v₂</a> <a id="3594" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="3596" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> 
    <a id="3603" class="Keyword">with</a> <a id="3608" href="/Denot/#41305" class="Function">sub-inv-fun</a> <a id="3620" href="/DenotAdequate/#3583" class="Bound">v↦v&#39;⊑v₁⊔v₂</a>
<a id="3631" class="Symbol">...</a> <a id="3635" class="Symbol">|</a> <a id="3637" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="3639" href="/DenotAdequate/#3639" class="Bound">Γ</a> <a id="3641" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3643" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="3645" href="/DenotAdequate/#3645" class="Bound">f</a> <a id="3647" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3649" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="3651" href="/DenotAdequate/#3651" class="Bound">Γ⊆v₁⊔v₂</a> <a id="3659" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3661" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="3663" href="/DenotAdequate/#3663" class="Bound">lt1</a> <a id="3667" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3669" href="/DenotAdequate/#3669" class="Bound">lt2</a> <a id="3673" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="3675" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="3677" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="3679" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>
    <a id="3685" class="Keyword">with</a> <a id="3690" href="/Denot/#30796" class="Function">Funs∈</a> <a id="3696" href="/DenotAdequate/#3645" class="Bound">f</a>
<a id="3698" class="Symbol">...</a> <a id="3702" class="Symbol">|</a> <a id="3704" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="3706" href="/DenotAdequate/#3706" class="Bound">A</a> <a id="3708" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3710" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="3712" href="/DenotAdequate/#3712" class="Bound">B</a> <a id="3714" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3716" href="/DenotAdequate/#3716" class="Bound">m</a> <a id="3718" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="3720" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>
    <a id="3726" class="Keyword">with</a> <a id="3731" class="Bound">Γ⊆v₁⊔v₂</a> <a id="3739" href="/DenotAdequate/#3716" class="Bound">m</a>
<a id="3741" class="Symbol">...</a> <a id="3745" class="Symbol">|</a> <a id="3747" href="https://agda.github.io/agda-stdlib/Data.Sum.Base.html#475" class="InductiveConstructor">inj₁</a> <a id="3752" href="/DenotAdequate/#3752" class="Bound">x</a> <a id="3754" class="Symbol">=</a> <a id="3756" href="https://agda.github.io/agda-stdlib/Data.Sum.Base.html#475" class="InductiveConstructor">inj₁</a> <a id="3761" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="3763" class="Bound">A</a> <a id="3765" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3767" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="3769" class="Bound">B</a> <a id="3771" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3773" class="Symbol">(</a><a id="3774" href="/Denot/#28915" class="Function">∈→⊑</a> <a id="3778" href="/DenotAdequate/#3752" class="Bound">x</a><a id="3779" class="Symbol">)</a> <a id="3781" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="3783" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>
<a id="3785" class="Symbol">...</a> <a id="3789" class="Symbol">|</a> <a id="3791" href="https://agda.github.io/agda-stdlib/Data.Sum.Base.html#500" class="InductiveConstructor">inj₂</a> <a id="3796" href="/DenotAdequate/#3796" class="Bound">x</a> <a id="3798" class="Symbol">=</a> <a id="3800" href="https://agda.github.io/agda-stdlib/Data.Sum.Base.html#500" class="InductiveConstructor">inj₂</a> <a id="3805" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="3807" class="Bound">A</a> <a id="3809" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3811" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="3813" class="Bound">B</a> <a id="3815" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="3817" class="Symbol">(</a><a id="3818" href="/Denot/#28915" class="Function">∈→⊑</a> <a id="3822" href="/DenotAdequate/#3796" class="Bound">x</a><a id="3823" class="Symbol">)</a> <a id="3825" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="3827" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a></pre>

<p>On the other hand, if neither of v₁ and v₂ is greater than a function,
then their join is also not greater than a function.</p>

<pre class="Agda"><a id="not-AboveFun-⊔"></a><a id="3979" href="/DenotAdequate/#3979" class="Function">not-AboveFun-⊔</a> <a id="3994" class="Symbol">:</a> <a id="3996" class="Symbol">∀{</a><a id="3998" href="/DenotAdequate/#3998" class="Bound">v₁</a> <a id="4001" href="/DenotAdequate/#4001" class="Bound">v₂</a> <a id="4004" class="Symbol">:</a> <a id="4006" href="/Denot/#4101" class="Datatype">Value</a><a id="4011" class="Symbol">}</a>
               <a id="4028" class="Symbol">→</a> <a id="4030" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#464" class="Function Operator">¬</a> <a id="4032" href="/DenotAdequate/#2706" class="Function">AboveFun</a> <a id="4041" href="/DenotAdequate/#3998" class="Bound">v₁</a> <a id="4044" class="Symbol">→</a> <a id="4046" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#464" class="Function Operator">¬</a> <a id="4048" href="/DenotAdequate/#2706" class="Function">AboveFun</a> <a id="4057" href="/DenotAdequate/#4001" class="Bound">v₂</a>
               <a id="4075" class="Symbol">→</a> <a id="4077" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#464" class="Function Operator">¬</a> <a id="4079" href="/DenotAdequate/#2706" class="Function">AboveFun</a> <a id="4088" class="Symbol">(</a><a id="4089" href="/DenotAdequate/#3998" class="Bound">v₁</a> <a id="4092" href="/Denot/#4163" class="InductiveConstructor Operator">⊔</a> <a id="4094" href="/DenotAdequate/#4001" class="Bound">v₂</a><a id="4096" class="Symbol">)</a>
<a id="4098" href="/DenotAdequate/#3979" class="Function">not-AboveFun-⊔</a> <a id="4113" href="/DenotAdequate/#4113" class="Bound">af1</a> <a id="4117" href="/DenotAdequate/#4117" class="Bound">af2</a> <a id="4121" href="/DenotAdequate/#4121" class="Bound">af12</a>
    <a id="4130" class="Keyword">with</a> <a id="4135" href="/DenotAdequate/#3458" class="Function">AboveFun-⊔</a> <a id="4146" href="/DenotAdequate/#4121" class="Bound">af12</a>
<a id="4151" class="Symbol">...</a> <a id="4155" class="Symbol">|</a> <a id="4157" href="https://agda.github.io/agda-stdlib/Data.Sum.Base.html#475" class="InductiveConstructor">inj₁</a> <a id="4162" href="/DenotAdequate/#4162" class="Bound">x</a> <a id="4164" class="Symbol">=</a> <a id="4166" href="https://agda.github.io/agda-stdlib/Relation.Nullary.Negation.html#560" class="Function">contradiction</a> <a id="4180" href="/DenotAdequate/#4162" class="Bound">x</a> <a id="4182" class="Bound">af1</a>
<a id="4186" class="Symbol">...</a> <a id="4190" class="Symbol">|</a> <a id="4192" href="https://agda.github.io/agda-stdlib/Data.Sum.Base.html#500" class="InductiveConstructor">inj₂</a> <a id="4197" href="/DenotAdequate/#4197" class="Bound">x</a> <a id="4199" class="Symbol">=</a> <a id="4201" href="https://agda.github.io/agda-stdlib/Relation.Nullary.Negation.html#560" class="Function">contradiction</a> <a id="4215" href="/DenotAdequate/#4197" class="Bound">x</a> <a id="4217" class="Bound">af2</a></pre>

<p>The converse is also true. If the join of two values is not above a
function, then neither of them is individually.</p>

<pre class="Agda"><a id="not-AboveFun-⊔-inv"></a><a id="4363" href="/DenotAdequate/#4363" class="Function">not-AboveFun-⊔-inv</a> <a id="4382" class="Symbol">:</a> <a id="4384" class="Symbol">∀{</a><a id="4386" href="/DenotAdequate/#4386" class="Bound">v₁</a> <a id="4389" href="/DenotAdequate/#4389" class="Bound">v₂</a> <a id="4392" class="Symbol">:</a> <a id="4394" href="/Denot/#4101" class="Datatype">Value</a><a id="4399" class="Symbol">}</a> <a id="4401" class="Symbol">→</a> <a id="4403" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#464" class="Function Operator">¬</a> <a id="4405" href="/DenotAdequate/#2706" class="Function">AboveFun</a> <a id="4414" class="Symbol">(</a><a id="4415" href="/DenotAdequate/#4386" class="Bound">v₁</a> <a id="4418" href="/Denot/#4163" class="InductiveConstructor Operator">⊔</a> <a id="4420" href="/DenotAdequate/#4389" class="Bound">v₂</a><a id="4422" class="Symbol">)</a>
              <a id="4438" class="Symbol">→</a> <a id="4440" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#464" class="Function Operator">¬</a> <a id="4442" href="/DenotAdequate/#2706" class="Function">AboveFun</a> <a id="4451" href="/DenotAdequate/#4386" class="Bound">v₁</a> <a id="4454" href="https://agda.github.io/agda-stdlib/Data.Product.html#1353" class="Function Operator">×</a> <a id="4456" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#464" class="Function Operator">¬</a> <a id="4458" href="/DenotAdequate/#2706" class="Function">AboveFun</a> <a id="4467" href="/DenotAdequate/#4389" class="Bound">v₂</a>
<a id="4470" href="/DenotAdequate/#4363" class="Function">not-AboveFun-⊔-inv</a> <a id="4489" href="/DenotAdequate/#4489" class="Bound">af</a> <a id="4492" class="Symbol">=</a> <a id="4494" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="4496" href="/DenotAdequate/#4522" class="Function">f</a> <a id="4498" href="/DenotAdequate/#4489" class="Bound">af</a> <a id="4501" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4503" href="/DenotAdequate/#4682" class="Function">g</a> <a id="4505" href="/DenotAdequate/#4489" class="Bound">af</a> <a id="4508" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>
  <a id="4512" class="Keyword">where</a>
    <a id="4522" href="/DenotAdequate/#4522" class="Function">f</a> <a id="4524" class="Symbol">:</a> <a id="4526" class="Symbol">∀{</a><a id="4528" href="/DenotAdequate/#4528" class="Bound">v₁</a> <a id="4531" href="/DenotAdequate/#4531" class="Bound">v₂</a> <a id="4534" class="Symbol">:</a> <a id="4536" href="/Denot/#4101" class="Datatype">Value</a><a id="4541" class="Symbol">}</a> <a id="4543" class="Symbol">→</a> <a id="4545" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#464" class="Function Operator">¬</a> <a id="4547" href="/DenotAdequate/#2706" class="Function">AboveFun</a> <a id="4556" class="Symbol">(</a><a id="4557" href="/DenotAdequate/#4528" class="Bound">v₁</a> <a id="4560" href="/Denot/#4163" class="InductiveConstructor Operator">⊔</a> <a id="4562" href="/DenotAdequate/#4531" class="Bound">v₂</a><a id="4564" class="Symbol">)</a> <a id="4566" class="Symbol">→</a> <a id="4568" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#464" class="Function Operator">¬</a> <a id="4570" href="/DenotAdequate/#2706" class="Function">AboveFun</a> <a id="4579" href="/DenotAdequate/#4528" class="Bound">v₁</a>
    <a id="4586" href="/DenotAdequate/#4522" class="Function">f</a><a id="4587" class="Symbol">{</a><a id="4588" href="/DenotAdequate/#4588" class="Bound">v₁</a><a id="4590" class="Symbol">}{</a><a id="4592" href="/DenotAdequate/#4592" class="Bound">v₂</a><a id="4594" class="Symbol">}</a> <a id="4596" href="/DenotAdequate/#4596" class="Bound">af12</a> <a id="4601" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="4603" href="/DenotAdequate/#4603" class="Bound">v</a> <a id="4605" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4607" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="4609" href="/DenotAdequate/#4609" class="Bound">v&#39;</a> <a id="4612" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4614" href="/DenotAdequate/#4614" class="Bound">lt</a> <a id="4617" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="4619" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="4621" class="Symbol">=</a>
        <a id="4631" href="https://agda.github.io/agda-stdlib/Relation.Nullary.Negation.html#560" class="Function">contradiction</a> <a id="4645" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="4647" href="/DenotAdequate/#4603" class="Bound">v</a> <a id="4649" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4651" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="4653" href="/DenotAdequate/#4609" class="Bound">v&#39;</a> <a id="4656" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4658" href="/Denot/#4627" class="InductiveConstructor">ConjR1⊑</a> <a id="4666" href="/DenotAdequate/#4614" class="Bound">lt</a> <a id="4669" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="4671" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="4673" href="/DenotAdequate/#4596" class="Bound">af12</a>
    <a id="4682" href="/DenotAdequate/#4682" class="Function">g</a> <a id="4684" class="Symbol">:</a> <a id="4686" class="Symbol">∀{</a><a id="4688" href="/DenotAdequate/#4688" class="Bound">v₁</a> <a id="4691" href="/DenotAdequate/#4691" class="Bound">v₂</a> <a id="4694" class="Symbol">:</a> <a id="4696" href="/Denot/#4101" class="Datatype">Value</a><a id="4701" class="Symbol">}</a> <a id="4703" class="Symbol">→</a> <a id="4705" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#464" class="Function Operator">¬</a> <a id="4707" href="/DenotAdequate/#2706" class="Function">AboveFun</a> <a id="4716" class="Symbol">(</a><a id="4717" href="/DenotAdequate/#4688" class="Bound">v₁</a> <a id="4720" href="/Denot/#4163" class="InductiveConstructor Operator">⊔</a> <a id="4722" href="/DenotAdequate/#4691" class="Bound">v₂</a><a id="4724" class="Symbol">)</a> <a id="4726" class="Symbol">→</a> <a id="4728" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#464" class="Function Operator">¬</a> <a id="4730" href="/DenotAdequate/#2706" class="Function">AboveFun</a> <a id="4739" href="/DenotAdequate/#4691" class="Bound">v₂</a>
    <a id="4746" href="/DenotAdequate/#4682" class="Function">g</a><a id="4747" class="Symbol">{</a><a id="4748" href="/DenotAdequate/#4748" class="Bound">v₁</a><a id="4750" class="Symbol">}{</a><a id="4752" href="/DenotAdequate/#4752" class="Bound">v₂</a><a id="4754" class="Symbol">}</a> <a id="4756" href="/DenotAdequate/#4756" class="Bound">af12</a> <a id="4761" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="4763" href="/DenotAdequate/#4763" class="Bound">v</a> <a id="4765" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4767" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="4769" href="/DenotAdequate/#4769" class="Bound">v&#39;</a> <a id="4772" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4774" href="/DenotAdequate/#4774" class="Bound">lt</a> <a id="4777" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="4779" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="4781" class="Symbol">=</a>
        <a id="4791" href="https://agda.github.io/agda-stdlib/Relation.Nullary.Negation.html#560" class="Function">contradiction</a> <a id="4805" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="4807" href="/DenotAdequate/#4763" class="Bound">v</a> <a id="4809" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4811" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="4813" href="/DenotAdequate/#4769" class="Bound">v&#39;</a> <a id="4816" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="4818" href="/Denot/#4708" class="InductiveConstructor">ConjR2⊑</a> <a id="4826" href="/DenotAdequate/#4774" class="Bound">lt</a> <a id="4829" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="4831" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="4833" href="/DenotAdequate/#4756" class="Bound">af12</a></pre>

<p>The property of being greater than a function value is decidable, as
exhibited by the following function.</p>

<pre class="Agda"><a id="AboveFun?"></a><a id="4970" href="/DenotAdequate/#4970" class="Function">AboveFun?</a> <a id="4980" class="Symbol">:</a> <a id="4982" class="Symbol">(</a><a id="4983" href="/DenotAdequate/#4983" class="Bound">v</a> <a id="4985" class="Symbol">:</a> <a id="4987" href="/Denot/#4101" class="Datatype">Value</a><a id="4992" class="Symbol">)</a> <a id="4994" class="Symbol">→</a> <a id="4996" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#534" class="Datatype">Dec</a> <a id="5000" class="Symbol">(</a><a id="5001" href="/DenotAdequate/#2706" class="Function">AboveFun</a> <a id="5010" href="/DenotAdequate/#4983" class="Bound">v</a><a id="5011" class="Symbol">)</a>
<a id="5013" href="/DenotAdequate/#4970" class="Function">AboveFun?</a> <a id="5023" href="/Denot/#4121" class="InductiveConstructor">⊥</a> <a id="5025" class="Symbol">=</a> <a id="5027" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="5030" href="/DenotAdequate/#3143" class="Function">AboveFun⊥</a>
<a id="5040" href="/DenotAdequate/#4970" class="Function">AboveFun?</a> <a id="5050" class="Symbol">(</a><a id="5051" href="/DenotAdequate/#5051" class="Bound">v</a> <a id="5053" href="/Denot/#4133" class="InductiveConstructor Operator">↦</a> <a id="5055" href="/DenotAdequate/#5055" class="Bound">v&#39;</a><a id="5057" class="Symbol">)</a> <a id="5059" class="Symbol">=</a> <a id="5061" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="5065" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="5067" href="/DenotAdequate/#5051" class="Bound">v</a> <a id="5069" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5071" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="5073" href="/DenotAdequate/#5055" class="Bound">v&#39;</a> <a id="5076" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5078" href="/Denot/#5698" class="Function">Refl⊑</a> <a id="5084" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="5086" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>
<a id="5088" href="/DenotAdequate/#4970" class="Function">AboveFun?</a> <a id="5098" class="Symbol">(</a><a id="5099" href="/DenotAdequate/#5099" class="Bound">v₁</a> <a id="5102" href="/Denot/#4163" class="InductiveConstructor Operator">⊔</a> <a id="5104" href="/DenotAdequate/#5104" class="Bound">v₂</a><a id="5106" class="Symbol">)</a>
    <a id="5112" class="Keyword">with</a> <a id="5117" href="/DenotAdequate/#4970" class="Function">AboveFun?</a> <a id="5127" href="/DenotAdequate/#5099" class="Bound">v₁</a> <a id="5130" class="Symbol">|</a> <a id="5132" href="/DenotAdequate/#4970" class="Function">AboveFun?</a> <a id="5142" href="/DenotAdequate/#5104" class="Bound">v₂</a>
<a id="5145" class="Symbol">...</a> <a id="5149" class="Symbol">|</a> <a id="5151" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="5155" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="5157" href="/DenotAdequate/#5157" class="Bound">v</a> <a id="5159" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5161" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="5163" href="/DenotAdequate/#5163" class="Bound">v&#39;</a> <a id="5166" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5168" href="/DenotAdequate/#5168" class="Bound">lt</a> <a id="5171" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="5173" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="5175" class="Symbol">|</a> <a id="5177" class="Symbol">_</a> <a id="5179" class="Symbol">=</a> <a id="5181" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="5185" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="5187" href="/DenotAdequate/#5157" class="Bound">v</a> <a id="5189" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5191" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="5193" href="/DenotAdequate/#5163" class="Bound">v&#39;</a> <a id="5196" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5198" class="Symbol">(</a><a id="5199" href="/Denot/#4627" class="InductiveConstructor">ConjR1⊑</a> <a id="5207" href="/DenotAdequate/#5168" class="Bound">lt</a><a id="5209" class="Symbol">)</a> <a id="5211" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="5213" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>
<a id="5215" class="Symbol">...</a> <a id="5219" class="Symbol">|</a> <a id="5221" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="5224" class="Symbol">_</a> <a id="5226" class="Symbol">|</a> <a id="5228" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="5232" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="5234" href="/DenotAdequate/#5234" class="Bound">v</a> <a id="5236" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5238" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="5240" href="/DenotAdequate/#5240" class="Bound">v&#39;</a> <a id="5243" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5245" href="/DenotAdequate/#5245" class="Bound">lt</a> <a id="5248" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="5250" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="5252" class="Symbol">=</a> <a id="5254" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="5258" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="5260" href="/DenotAdequate/#5234" class="Bound">v</a> <a id="5262" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5264" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="5266" href="/DenotAdequate/#5240" class="Bound">v&#39;</a> <a id="5269" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="5271" class="Symbol">(</a><a id="5272" href="/Denot/#4708" class="InductiveConstructor">ConjR2⊑</a> <a id="5280" href="/DenotAdequate/#5245" class="Bound">lt</a><a id="5282" class="Symbol">)</a> <a id="5284" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="5286" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>
<a id="5288" class="Symbol">...</a> <a id="5292" class="Symbol">|</a> <a id="5294" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="5297" href="/DenotAdequate/#5297" class="Bound">x</a> <a id="5299" class="Symbol">|</a> <a id="5301" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="5304" href="/DenotAdequate/#5304" class="Bound">y</a> <a id="5306" class="Symbol">=</a> <a id="5308" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="5311" class="Symbol">(</a><a id="5312" href="/DenotAdequate/#3979" class="Function">not-AboveFun-⊔</a> <a id="5327" href="/DenotAdequate/#5297" class="Bound">x</a> <a id="5329" href="/DenotAdequate/#5304" class="Bound">y</a><a id="5330" class="Symbol">)</a></pre>

<h2 id="big-step-semantics-for-call-by-name-lambda-calculus">Big-step semantics for call-by-name lambda calculus</h2>

<p>To better align with the denotational semantics, we shall use an
environment-passing big-step semantics. Because this is call-by-name,
an environment maps each variable to a closure, that is, to a term
paired with its environment. (Environments and closures are mutually
recursive.) We define environments and closures as follows.</p>

<pre class="Agda"><a id="ClosEnv"></a><a id="5746" href="/DenotAdequate/#5746" class="Function">ClosEnv</a> <a id="5754" class="Symbol">:</a> <a id="5756" href="/Untyped/#2980" class="Datatype">Context</a> <a id="5764" class="Symbol">→</a> <a id="5766" class="PrimitiveType">Set</a>

<a id="5771" class="Keyword">data</a> <a id="Clos"></a><a id="5776" href="/DenotAdequate/#5776" class="Datatype">Clos</a> <a id="5781" class="Symbol">:</a> <a id="5783" class="PrimitiveType">Set</a> <a id="5787" class="Keyword">where</a>
  <a id="Clos.clos"></a><a id="5795" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="5800" class="Symbol">:</a> <a id="5802" class="Symbol">∀{</a><a id="5804" href="/DenotAdequate/#5804" class="Bound">Γ</a><a id="5805" class="Symbol">}</a> <a id="5807" class="Symbol">→</a> <a id="5809" class="Symbol">(</a><a id="5810" href="/DenotAdequate/#5810" class="Bound">M</a> <a id="5812" class="Symbol">:</a> <a id="5814" href="/DenotAdequate/#5804" class="Bound">Γ</a> <a id="5816" href="/Untyped/#4150" class="Datatype Operator">⊢</a> <a id="5818" href="/Untyped/#2694" class="InductiveConstructor">★</a><a id="5819" class="Symbol">)</a> <a id="5821" class="Symbol">→</a> <a id="5823" href="/DenotAdequate/#5746" class="Function">ClosEnv</a> <a id="5831" href="/DenotAdequate/#5804" class="Bound">Γ</a> <a id="5833" class="Symbol">→</a> <a id="5835" href="/DenotAdequate/#5776" class="Datatype">Clos</a>

<a id="5841" href="/DenotAdequate/#5746" class="Function">ClosEnv</a> <a id="5849" href="/DenotAdequate/#5849" class="Bound">Γ</a> <a id="5851" class="Symbol">=</a> <a id="5853" class="Symbol">∀</a> <a id="5855" class="Symbol">(</a><a id="5856" href="/DenotAdequate/#5856" class="Bound">x</a> <a id="5858" class="Symbol">:</a> <a id="5860" href="/DenotAdequate/#5849" class="Bound">Γ</a> <a id="5862" href="/Untyped/#3365" class="Datatype Operator">∋</a> <a id="5864" href="/Untyped/#2694" class="InductiveConstructor">★</a><a id="5865" class="Symbol">)</a> <a id="5867" class="Symbol">→</a> <a id="5869" href="/DenotAdequate/#5776" class="Datatype">Clos</a></pre>

<p>As usual, we have the empty environment, and we can extend an
environment.</p>
<pre class="Agda"><a id="∅&#39;"></a><a id="5974" href="/DenotAdequate/#5974" class="Function">∅&#39;</a> <a id="5977" class="Symbol">:</a> <a id="5979" href="/DenotAdequate/#5746" class="Function">ClosEnv</a> <a id="5987" href="/Untyped/#3002" class="InductiveConstructor">∅</a>
<a id="5989" href="/DenotAdequate/#5974" class="Function">∅&#39;</a> <a id="5992" class="Symbol">()</a>

<a id="_,&#39;_"></a><a id="5996" href="/DenotAdequate/#5996" class="Function Operator">_,&#39;_</a> <a id="6001" class="Symbol">:</a> <a id="6003" class="Symbol">∀</a> <a id="6005" class="Symbol">{</a><a id="6006" href="/DenotAdequate/#6006" class="Bound">Γ</a><a id="6007" class="Symbol">}</a> <a id="6009" class="Symbol">→</a> <a id="6011" href="/DenotAdequate/#5746" class="Function">ClosEnv</a> <a id="6019" href="/DenotAdequate/#6006" class="Bound">Γ</a> <a id="6021" class="Symbol">→</a> <a id="6023" href="/DenotAdequate/#5776" class="Datatype">Clos</a> <a id="6028" class="Symbol">→</a> <a id="6030" href="/DenotAdequate/#5746" class="Function">ClosEnv</a> <a id="6038" class="Symbol">(</a><a id="6039" href="/DenotAdequate/#6006" class="Bound">Γ</a> <a id="6041" href="/Untyped/#3018" class="InductiveConstructor Operator">,</a> <a id="6043" href="/Untyped/#2694" class="InductiveConstructor">★</a><a id="6044" class="Symbol">)</a>
<a id="6046" class="Symbol">(</a><a id="6047" href="/DenotAdequate/#6047" class="Bound">γ</a> <a id="6049" href="/DenotAdequate/#5996" class="Function Operator">,&#39;</a> <a id="6052" href="/DenotAdequate/#6052" class="Bound">c</a><a id="6053" class="Symbol">)</a> <a id="6055" href="/Untyped/#3401" class="InductiveConstructor">Z</a> <a id="6057" class="Symbol">=</a> <a id="6059" href="/DenotAdequate/#6052" class="Bound">c</a>
<a id="6061" class="Symbol">(</a><a id="6062" href="/DenotAdequate/#6062" class="Bound">γ</a> <a id="6064" href="/DenotAdequate/#5996" class="Function Operator">,&#39;</a> <a id="6067" href="/DenotAdequate/#6067" class="Bound">c</a><a id="6068" class="Symbol">)</a> <a id="6070" class="Symbol">(</a><a id="6071" href="/Untyped/#3446" class="InductiveConstructor Operator">S</a> <a id="6073" href="/DenotAdequate/#6073" class="Bound">x</a><a id="6074" class="Symbol">)</a> <a id="6076" class="Symbol">=</a> <a id="6078" href="/DenotAdequate/#6062" class="Bound">γ</a> <a id="6080" href="/DenotAdequate/#6073" class="Bound">x</a></pre>

<p>The following is the big-step semantics for call-by-name evaluation,
which we describe below.</p>

<pre class="Agda"><a id="6202" class="Keyword">data</a> <a id="_⊢_⇓_"></a><a id="6207" href="/DenotAdequate/#6207" class="Datatype Operator">_⊢_⇓_</a> <a id="6213" class="Symbol">:</a> <a id="6215" class="Symbol">∀{</a><a id="6217" href="/DenotAdequate/#6217" class="Bound">Γ</a><a id="6218" class="Symbol">}</a> <a id="6220" class="Symbol">→</a> <a id="6222" href="/DenotAdequate/#5746" class="Function">ClosEnv</a> <a id="6230" href="/DenotAdequate/#6217" class="Bound">Γ</a> <a id="6232" class="Symbol">→</a> <a id="6234" class="Symbol">(</a><a id="6235" href="/DenotAdequate/#6217" class="Bound">Γ</a> <a id="6237" href="/Untyped/#4150" class="Datatype Operator">⊢</a> <a id="6239" href="/Untyped/#2694" class="InductiveConstructor">★</a><a id="6240" class="Symbol">)</a> <a id="6242" class="Symbol">→</a> <a id="6244" href="/DenotAdequate/#5776" class="Datatype">Clos</a> <a id="6249" class="Symbol">→</a> <a id="6251" class="PrimitiveType">Set</a> <a id="6255" class="Keyword">where</a>

  <a id="_⊢_⇓_.⇓-var"></a><a id="6264" href="/DenotAdequate/#6264" class="InductiveConstructor">⇓-var</a> <a id="6270" class="Symbol">:</a> <a id="6272" class="Symbol">∀{</a><a id="6274" href="/DenotAdequate/#6274" class="Bound">Γ</a><a id="6275" class="Symbol">}{</a><a id="6277" href="/DenotAdequate/#6277" class="Bound">γ</a> <a id="6279" class="Symbol">:</a> <a id="6281" href="/DenotAdequate/#5746" class="Function">ClosEnv</a> <a id="6289" href="/DenotAdequate/#6274" class="Bound">Γ</a><a id="6290" class="Symbol">}{</a><a id="6292" href="/DenotAdequate/#6292" class="Bound">x</a> <a id="6294" class="Symbol">:</a> <a id="6296" href="/DenotAdequate/#6274" class="Bound">Γ</a> <a id="6298" href="/Untyped/#3365" class="Datatype Operator">∋</a> <a id="6300" href="/Untyped/#2694" class="InductiveConstructor">★</a><a id="6301" class="Symbol">}{</a><a id="6303" href="/DenotAdequate/#6303" class="Bound">Δ</a><a id="6304" class="Symbol">}{</a><a id="6306" href="/DenotAdequate/#6306" class="Bound">δ</a> <a id="6308" class="Symbol">:</a> <a id="6310" href="/DenotAdequate/#5746" class="Function">ClosEnv</a> <a id="6318" href="/DenotAdequate/#6303" class="Bound">Δ</a><a id="6319" class="Symbol">}{</a><a id="6321" href="/DenotAdequate/#6321" class="Bound">M</a> <a id="6323" class="Symbol">:</a> <a id="6325" href="/DenotAdequate/#6303" class="Bound">Δ</a> <a id="6327" href="/Untyped/#4150" class="Datatype Operator">⊢</a> <a id="6329" href="/Untyped/#2694" class="InductiveConstructor">★</a><a id="6330" class="Symbol">}{</a><a id="6332" href="/DenotAdequate/#6332" class="Bound">c</a><a id="6333" class="Symbol">}</a>
        <a id="6343" class="Symbol">→</a> <a id="6345" href="/DenotAdequate/#6277" class="Bound">γ</a> <a id="6347" href="/DenotAdequate/#6292" class="Bound">x</a> <a id="6349" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="6351" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="6356" href="/DenotAdequate/#6321" class="Bound">M</a> <a id="6358" href="/DenotAdequate/#6306" class="Bound">δ</a>
        <a id="6368" class="Symbol">→</a> <a id="6370" href="/DenotAdequate/#6306" class="Bound">δ</a> <a id="6372" href="/DenotAdequate/#6207" class="Datatype Operator">⊢</a> <a id="6374" href="/DenotAdequate/#6321" class="Bound">M</a> <a id="6376" href="/DenotAdequate/#6207" class="Datatype Operator">⇓</a> <a id="6378" href="/DenotAdequate/#6332" class="Bound">c</a>
          <a id="6390" class="Comment">-----------</a>
        <a id="6410" class="Symbol">→</a> <a id="6412" href="/DenotAdequate/#6277" class="Bound">γ</a> <a id="6414" href="/DenotAdequate/#6207" class="Datatype Operator">⊢</a> <a id="6416" href="/Untyped/#4186" class="InductiveConstructor Operator">`</a> <a id="6418" href="/DenotAdequate/#6292" class="Bound">x</a> <a id="6420" href="/DenotAdequate/#6207" class="Datatype Operator">⇓</a> <a id="6422" href="/DenotAdequate/#6332" class="Bound">c</a>

  <a id="_⊢_⇓_.⇓-lam"></a><a id="6427" href="/DenotAdequate/#6427" class="InductiveConstructor">⇓-lam</a> <a id="6433" class="Symbol">:</a> <a id="6435" class="Symbol">∀{</a><a id="6437" href="/DenotAdequate/#6437" class="Bound">Γ</a><a id="6438" class="Symbol">}{</a><a id="6440" href="/DenotAdequate/#6440" class="Bound">γ</a> <a id="6442" class="Symbol">:</a> <a id="6444" href="/DenotAdequate/#5746" class="Function">ClosEnv</a> <a id="6452" href="/DenotAdequate/#6437" class="Bound">Γ</a><a id="6453" class="Symbol">}{</a><a id="6455" href="/DenotAdequate/#6455" class="Bound">M</a> <a id="6457" class="Symbol">:</a> <a id="6459" href="/DenotAdequate/#6437" class="Bound">Γ</a> <a id="6461" href="/Untyped/#3018" class="InductiveConstructor Operator">,</a> <a id="6463" href="/Untyped/#2694" class="InductiveConstructor">★</a> <a id="6465" href="/Untyped/#4150" class="Datatype Operator">⊢</a> <a id="6467" href="/Untyped/#2694" class="InductiveConstructor">★</a><a id="6468" class="Symbol">}</a>
        <a id="6478" class="Symbol">→</a> <a id="6480" href="/DenotAdequate/#6440" class="Bound">γ</a> <a id="6482" href="/DenotAdequate/#6207" class="Datatype Operator">⊢</a> <a id="6484" href="/Untyped/#4238" class="InductiveConstructor Operator">ƛ</a> <a id="6486" href="/DenotAdequate/#6455" class="Bound">M</a> <a id="6488" href="/DenotAdequate/#6207" class="Datatype Operator">⇓</a> <a id="6490" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="6495" class="Symbol">(</a><a id="6496" href="/Untyped/#4238" class="InductiveConstructor Operator">ƛ</a> <a id="6498" href="/DenotAdequate/#6455" class="Bound">M</a><a id="6499" class="Symbol">)</a> <a id="6501" href="/DenotAdequate/#6440" class="Bound">γ</a>

  <a id="_⊢_⇓_.⇓-app"></a><a id="6506" href="/DenotAdequate/#6506" class="InductiveConstructor">⇓-app</a> <a id="6512" class="Symbol">:</a> <a id="6514" class="Symbol">∀{</a><a id="6516" href="/DenotAdequate/#6516" class="Bound">Γ</a><a id="6517" class="Symbol">}{</a><a id="6519" href="/DenotAdequate/#6519" class="Bound">γ</a> <a id="6521" class="Symbol">:</a> <a id="6523" href="/DenotAdequate/#5746" class="Function">ClosEnv</a> <a id="6531" href="/DenotAdequate/#6516" class="Bound">Γ</a><a id="6532" class="Symbol">}{</a><a id="6534" href="/DenotAdequate/#6534" class="Bound">L</a> <a id="6536" href="/DenotAdequate/#6536" class="Bound">M</a> <a id="6538" class="Symbol">:</a> <a id="6540" href="/DenotAdequate/#6516" class="Bound">Γ</a> <a id="6542" href="/Untyped/#4150" class="Datatype Operator">⊢</a> <a id="6544" href="/Untyped/#2694" class="InductiveConstructor">★</a><a id="6545" class="Symbol">}{</a><a id="6547" href="/DenotAdequate/#6547" class="Bound">Δ</a><a id="6548" class="Symbol">}{</a><a id="6550" href="/DenotAdequate/#6550" class="Bound">δ</a> <a id="6552" class="Symbol">:</a> <a id="6554" href="/DenotAdequate/#5746" class="Function">ClosEnv</a> <a id="6562" href="/DenotAdequate/#6547" class="Bound">Δ</a><a id="6563" class="Symbol">}{</a><a id="6565" href="/DenotAdequate/#6565" class="Bound">L&#39;</a> <a id="6568" class="Symbol">:</a> <a id="6570" href="/DenotAdequate/#6547" class="Bound">Δ</a> <a id="6572" href="/Untyped/#3018" class="InductiveConstructor Operator">,</a> <a id="6574" href="/Untyped/#2694" class="InductiveConstructor">★</a> <a id="6576" href="/Untyped/#4150" class="Datatype Operator">⊢</a> <a id="6578" href="/Untyped/#2694" class="InductiveConstructor">★</a><a id="6579" class="Symbol">}{</a><a id="6581" href="/DenotAdequate/#6581" class="Bound">c</a><a id="6582" class="Symbol">}</a>
       <a id="6591" class="Symbol">→</a> <a id="6593" href="/DenotAdequate/#6519" class="Bound">γ</a> <a id="6595" href="/DenotAdequate/#6207" class="Datatype Operator">⊢</a> <a id="6597" href="/DenotAdequate/#6534" class="Bound">L</a> <a id="6599" href="/DenotAdequate/#6207" class="Datatype Operator">⇓</a> <a id="6601" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="6606" class="Symbol">(</a><a id="6607" href="/Untyped/#4238" class="InductiveConstructor Operator">ƛ</a> <a id="6609" href="/DenotAdequate/#6565" class="Bound">L&#39;</a><a id="6611" class="Symbol">)</a> <a id="6613" href="/DenotAdequate/#6550" class="Bound">δ</a>   <a id="6617" class="Symbol">→</a>   <a id="6621" class="Symbol">(</a><a id="6622" href="/DenotAdequate/#6550" class="Bound">δ</a> <a id="6624" href="/DenotAdequate/#5996" class="Function Operator">,&#39;</a> <a id="6627" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="6632" href="/DenotAdequate/#6536" class="Bound">M</a> <a id="6634" href="/DenotAdequate/#6519" class="Bound">γ</a><a id="6635" class="Symbol">)</a> <a id="6637" href="/DenotAdequate/#6207" class="Datatype Operator">⊢</a> <a id="6639" href="/DenotAdequate/#6565" class="Bound">L&#39;</a> <a id="6642" href="/DenotAdequate/#6207" class="Datatype Operator">⇓</a> <a id="6644" href="/DenotAdequate/#6581" class="Bound">c</a>
         <a id="6655" class="Comment">----------------------------------------------------</a>
       <a id="6715" class="Symbol">→</a> <a id="6717" href="/DenotAdequate/#6519" class="Bound">γ</a> <a id="6719" href="/DenotAdequate/#6207" class="Datatype Operator">⊢</a> <a id="6721" href="/DenotAdequate/#6534" class="Bound">L</a> <a id="6723" href="/Untyped/#4298" class="InductiveConstructor Operator">·</a> <a id="6725" href="/DenotAdequate/#6536" class="Bound">M</a> <a id="6727" href="/DenotAdequate/#6207" class="Datatype Operator">⇓</a> <a id="6729" href="/DenotAdequate/#6581" class="Bound">c</a></pre>

<ul>
  <li>
    <p>The (⇓-var) rule evaluates a variable by finding the associated
closure in the environment and then evaluating the closure.</p>
  </li>
  <li>
    <p>The (⇓-lam) rule turns a lambda abstraction into a closure
by packaging it up with its environment.</p>
  </li>
  <li>
    <p>The (⇓-app) rule performs function application by first evaluating
the term L in operator position. If that produces a closure containing
a lambda abstraction (ƛ L’), then we evaluate the body L’ in an
environment extended with the argument M. Note that M is not
evaluated in rule (⇓-app) because this is call-by-name and not
call-by-value.</p>
  </li>
</ul>

<p>If the big-step semantics says that a term M evaluates to both c and
c’, then c and c’ are identical. In other words, the big-step relation
is a partial function.</p>

<pre class="Agda"><a id="⇓-determ"></a><a id="7508" href="/DenotAdequate/#7508" class="Function">⇓-determ</a> <a id="7517" class="Symbol">:</a> <a id="7519" class="Symbol">∀{</a><a id="7521" href="/DenotAdequate/#7521" class="Bound">Γ</a><a id="7522" class="Symbol">}{</a><a id="7524" href="/DenotAdequate/#7524" class="Bound">γ</a> <a id="7526" class="Symbol">:</a> <a id="7528" href="/DenotAdequate/#5746" class="Function">ClosEnv</a> <a id="7536" href="/DenotAdequate/#7521" class="Bound">Γ</a><a id="7537" class="Symbol">}{</a><a id="7539" href="/DenotAdequate/#7539" class="Bound">M</a> <a id="7541" class="Symbol">:</a> <a id="7543" href="/DenotAdequate/#7521" class="Bound">Γ</a> <a id="7545" href="/Untyped/#4150" class="Datatype Operator">⊢</a> <a id="7547" href="/Untyped/#2694" class="InductiveConstructor">★</a><a id="7548" class="Symbol">}{</a><a id="7550" href="/DenotAdequate/#7550" class="Bound">c</a> <a id="7552" href="/DenotAdequate/#7552" class="Bound">c&#39;</a> <a id="7555" class="Symbol">:</a> <a id="7557" href="/DenotAdequate/#5776" class="Datatype">Clos</a><a id="7561" class="Symbol">}</a>
         <a id="7572" class="Symbol">→</a> <a id="7574" href="/DenotAdequate/#7524" class="Bound">γ</a> <a id="7576" href="/DenotAdequate/#6207" class="Datatype Operator">⊢</a> <a id="7578" href="/DenotAdequate/#7539" class="Bound">M</a> <a id="7580" href="/DenotAdequate/#6207" class="Datatype Operator">⇓</a> <a id="7582" href="/DenotAdequate/#7550" class="Bound">c</a> <a id="7584" class="Symbol">→</a> <a id="7586" href="/DenotAdequate/#7524" class="Bound">γ</a> <a id="7588" href="/DenotAdequate/#6207" class="Datatype Operator">⊢</a> <a id="7590" href="/DenotAdequate/#7539" class="Bound">M</a> <a id="7592" href="/DenotAdequate/#6207" class="Datatype Operator">⇓</a> <a id="7594" href="/DenotAdequate/#7552" class="Bound">c&#39;</a>
         <a id="7606" class="Symbol">→</a> <a id="7608" href="/DenotAdequate/#7550" class="Bound">c</a> <a id="7610" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="7612" href="/DenotAdequate/#7552" class="Bound">c&#39;</a>
<a id="7615" href="/DenotAdequate/#7508" class="Function">⇓-determ</a> <a id="7624" class="Symbol">(</a><a id="7625" href="/DenotAdequate/#6264" class="InductiveConstructor">⇓-var</a> <a id="7631" href="/DenotAdequate/#7631" class="Bound">eq1</a> <a id="7635" href="/DenotAdequate/#7635" class="Bound">mc</a><a id="7637" class="Symbol">)</a> <a id="7639" class="Symbol">(</a><a id="7640" href="/DenotAdequate/#6264" class="InductiveConstructor">⇓-var</a> <a id="7646" href="/DenotAdequate/#7646" class="Bound">eq2</a> <a id="7650" href="/DenotAdequate/#7650" class="Bound">mc&#39;</a><a id="7653" class="Symbol">)</a>
      <a id="7661" class="Keyword">with</a> <a id="7666" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.Core.html#887" class="Function">trans</a> <a id="7672" class="Symbol">(</a><a id="7673" href="https://agda.github.io/agda-stdlib/Relation.Binary.PropositionalEquality.Core.html#838" class="Function">sym</a> <a id="7677" href="/DenotAdequate/#7631" class="Bound">eq1</a><a id="7680" class="Symbol">)</a> <a id="7682" href="/DenotAdequate/#7646" class="Bound">eq2</a>
<a id="7686" class="Symbol">...</a> <a id="7690" class="Symbol">|</a> <a id="7692" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="7697" class="Symbol">=</a> <a id="7699" href="/DenotAdequate/#7508" class="Function">⇓-determ</a> <a id="7708" class="Bound">mc</a> <a id="7711" class="Bound">mc&#39;</a>
<a id="7715" href="/DenotAdequate/#7508" class="Function">⇓-determ</a> <a id="7724" href="/DenotAdequate/#6427" class="InductiveConstructor">⇓-lam</a> <a id="7730" href="/DenotAdequate/#6427" class="InductiveConstructor">⇓-lam</a> <a id="7736" class="Symbol">=</a> <a id="7738" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a>
<a id="7743" href="/DenotAdequate/#7508" class="Function">⇓-determ</a> <a id="7752" class="Symbol">(</a><a id="7753" href="/DenotAdequate/#6506" class="InductiveConstructor">⇓-app</a> <a id="7759" href="/DenotAdequate/#7759" class="Bound">mc</a> <a id="7762" href="/DenotAdequate/#7762" class="Bound">mc₁</a><a id="7765" class="Symbol">)</a> <a id="7767" class="Symbol">(</a><a id="7768" href="/DenotAdequate/#6506" class="InductiveConstructor">⇓-app</a> <a id="7774" href="/DenotAdequate/#7774" class="Bound">mc&#39;</a> <a id="7778" href="/DenotAdequate/#7778" class="Bound">mc&#39;&#39;</a><a id="7782" class="Symbol">)</a> 
    <a id="7789" class="Keyword">with</a> <a id="7794" href="/DenotAdequate/#7508" class="Function">⇓-determ</a> <a id="7803" href="/DenotAdequate/#7759" class="Bound">mc</a> <a id="7806" href="/DenotAdequate/#7774" class="Bound">mc&#39;</a>
<a id="7810" class="Symbol">...</a> <a id="7814" class="Symbol">|</a> <a id="7816" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="7821" class="Symbol">=</a> <a id="7823" href="/DenotAdequate/#7508" class="Function">⇓-determ</a> <a id="7832" class="Bound">mc₁</a> <a id="7836" class="Bound">mc&#39;&#39;</a></pre>

<h2 id="relating-values-to-closures">Relating values to closures</h2>

<p>Next we relate semantic values to closures.  The relation 𝕍 is for
closures whose term is a lambda abstraction (i.e. in WHNF), whereas
the relation 𝔼 is for any closure. Roughly speaking, 𝔼 v c will hold
if, when v is greater than a function value, c evaluates to a closure
c’ in WHNF and 𝕍 v c’. Regarding 𝕍 v c, it will hold when c is in
WHNF, and if v is a function, the body of c evaluates according to v.</p>

<pre class="Agda"><a id="𝕍"></a><a id="8310" href="/DenotAdequate/#8310" class="Function">𝕍</a> <a id="8312" class="Symbol">:</a> <a id="8314" href="/Denot/#4101" class="Datatype">Value</a> <a id="8320" class="Symbol">→</a> <a id="8322" href="/DenotAdequate/#5776" class="Datatype">Clos</a> <a id="8327" class="Symbol">→</a> <a id="8329" class="PrimitiveType">Set</a>
<a id="𝔼"></a><a id="8333" href="/DenotAdequate/#8333" class="Function">𝔼</a> <a id="8335" class="Symbol">:</a> <a id="8337" href="/Denot/#4101" class="Datatype">Value</a> <a id="8343" class="Symbol">→</a> <a id="8345" href="/DenotAdequate/#5776" class="Datatype">Clos</a> <a id="8350" class="Symbol">→</a> <a id="8352" class="PrimitiveType">Set</a></pre>

<p>We define 𝕍 as a function from values and closures to Set and not as a
data type because it is mutually recursive with 𝔼 in a negative
position (to the left of an implication).  We first perform case
analysis on the term in the closure. If the term is a variable or
application, then 𝕍 is false (Bot). If the term is a lambda
abstraction, we define 𝕍 by recursion on the value, which we
describe below.</p>

<pre class="Agda"><a id="8785" href="/DenotAdequate/#8310" class="Function">𝕍</a> <a id="8787" href="/DenotAdequate/#8787" class="Bound">v</a> <a id="8789" class="Symbol">(</a><a id="8790" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="8795" class="Symbol">(</a><a id="8796" href="/Untyped/#4186" class="InductiveConstructor Operator">`</a> <a id="8798" href="/DenotAdequate/#8798" class="Bound">x₁</a><a id="8800" class="Symbol">)</a> <a id="8802" href="/DenotAdequate/#8802" class="Bound">γ</a><a id="8803" class="Symbol">)</a> <a id="8805" class="Symbol">=</a> <a id="8807" href="https://agda.github.io/agda-stdlib/Data.Empty.html#243" class="Datatype">Bot</a>
<a id="8811" href="/DenotAdequate/#8310" class="Function">𝕍</a> <a id="8813" href="/DenotAdequate/#8813" class="Bound">v</a> <a id="8815" class="Symbol">(</a><a id="8816" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="8821" class="Symbol">(</a><a id="8822" href="/DenotAdequate/#8822" class="Bound">M</a> <a id="8824" href="/Untyped/#4298" class="InductiveConstructor Operator">·</a> <a id="8826" href="/DenotAdequate/#8826" class="Bound">M₁</a><a id="8828" class="Symbol">)</a> <a id="8830" href="/DenotAdequate/#8830" class="Bound">γ</a><a id="8831" class="Symbol">)</a> <a id="8833" class="Symbol">=</a> <a id="8835" href="https://agda.github.io/agda-stdlib/Data.Empty.html#243" class="Datatype">Bot</a>
<a id="8839" href="/DenotAdequate/#8310" class="Function">𝕍</a> <a id="8841" href="/Denot/#4121" class="InductiveConstructor">⊥</a> <a id="8843" class="Symbol">(</a><a id="8844" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="8849" class="Symbol">(</a><a id="8850" href="/Untyped/#4238" class="InductiveConstructor Operator">ƛ</a> <a id="8852" href="/DenotAdequate/#8852" class="Bound">M</a><a id="8853" class="Symbol">)</a> <a id="8855" href="/DenotAdequate/#8855" class="Bound">γ</a><a id="8856" class="Symbol">)</a> <a id="8858" class="Symbol">=</a> <a id="8860" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Unit.html#69" class="Record">⊤</a>
<a id="8862" href="/DenotAdequate/#8310" class="Function">𝕍</a> <a id="8864" class="Symbol">(</a><a id="8865" href="/DenotAdequate/#8865" class="Bound">v</a> <a id="8867" href="/Denot/#4133" class="InductiveConstructor Operator">↦</a> <a id="8869" href="/DenotAdequate/#8869" class="Bound">v&#39;</a><a id="8871" class="Symbol">)</a> <a id="8873" class="Symbol">(</a><a id="8874" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="8879" class="Symbol">(</a><a id="8880" href="/Untyped/#4238" class="InductiveConstructor Operator">ƛ</a> <a id="8882" href="/DenotAdequate/#8882" class="Bound">M</a><a id="8883" class="Symbol">)</a> <a id="8885" href="/DenotAdequate/#8885" class="Bound">γ</a><a id="8886" class="Symbol">)</a> <a id="8888" class="Symbol">=</a>
    <a id="8894" class="Symbol">(∀{</a><a id="8897" href="/DenotAdequate/#8897" class="Bound">c</a> <a id="8899" class="Symbol">:</a> <a id="8901" href="/DenotAdequate/#5776" class="Datatype">Clos</a><a id="8905" class="Symbol">}</a> <a id="8907" class="Symbol">→</a> <a id="8909" href="/DenotAdequate/#8333" class="Function">𝔼</a> <a id="8911" href="/DenotAdequate/#8865" class="Bound">v</a> <a id="8913" href="/DenotAdequate/#8897" class="Bound">c</a> <a id="8915" class="Symbol">→</a> <a id="8917" href="/DenotAdequate/#2706" class="Function">AboveFun</a> <a id="8926" href="/DenotAdequate/#8869" class="Bound">v&#39;</a> <a id="8929" class="Symbol">→</a> <a id="8931" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">Σ[</a> <a id="8934" href="/DenotAdequate/#8934" class="Bound">c&#39;</a> <a id="8937" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">∈</a> <a id="8939" href="/DenotAdequate/#5776" class="Datatype">Clos</a> <a id="8944" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">]</a>
        <a id="8954" class="Symbol">(</a><a id="8955" href="/DenotAdequate/#8885" class="Bound">γ</a> <a id="8957" href="/DenotAdequate/#5996" class="Function Operator">,&#39;</a> <a id="8960" href="/DenotAdequate/#8897" class="Bound">c</a><a id="8961" class="Symbol">)</a> <a id="8963" href="/DenotAdequate/#6207" class="Datatype Operator">⊢</a> <a id="8965" href="/DenotAdequate/#8882" class="Bound">M</a> <a id="8967" href="/DenotAdequate/#6207" class="Datatype Operator">⇓</a> <a id="8969" href="/DenotAdequate/#8934" class="Bound">c&#39;</a>  <a id="8973" href="https://agda.github.io/agda-stdlib/Data.Product.html#1353" class="Function Operator">×</a>  <a id="8976" href="/DenotAdequate/#8310" class="Function">𝕍</a> <a id="8978" href="/DenotAdequate/#8869" class="Bound">v&#39;</a> <a id="8981" href="/DenotAdequate/#8934" class="Bound">c&#39;</a><a id="8983" class="Symbol">)</a>
<a id="8985" href="/DenotAdequate/#8310" class="Function">𝕍</a> <a id="8987" class="Symbol">(</a><a id="8988" href="/DenotAdequate/#8988" class="Bound">v₁</a> <a id="8991" href="/Denot/#4163" class="InductiveConstructor Operator">⊔</a> <a id="8993" href="/DenotAdequate/#8993" class="Bound">v₂</a><a id="8995" class="Symbol">)</a> <a id="8997" class="Symbol">(</a><a id="8998" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="9003" class="Symbol">(</a><a id="9004" href="/Untyped/#4238" class="InductiveConstructor Operator">ƛ</a> <a id="9006" href="/DenotAdequate/#9006" class="Bound">M</a><a id="9007" class="Symbol">)</a> <a id="9009" href="/DenotAdequate/#9009" class="Bound">γ</a><a id="9010" class="Symbol">)</a> <a id="9012" class="Symbol">=</a> <a id="9014" href="/DenotAdequate/#8310" class="Function">𝕍</a> <a id="9016" href="/DenotAdequate/#8988" class="Bound">v₁</a> <a id="9019" class="Symbol">(</a><a id="9020" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="9025" class="Symbol">(</a><a id="9026" href="/Untyped/#4238" class="InductiveConstructor Operator">ƛ</a> <a id="9028" href="/DenotAdequate/#9006" class="Bound">M</a><a id="9029" class="Symbol">)</a> <a id="9031" href="/DenotAdequate/#9009" class="Bound">γ</a><a id="9032" class="Symbol">)</a> <a id="9034" href="https://agda.github.io/agda-stdlib/Data.Product.html#1353" class="Function Operator">×</a> <a id="9036" href="/DenotAdequate/#8310" class="Function">𝕍</a> <a id="9038" href="/DenotAdequate/#8993" class="Bound">v₂</a> <a id="9041" class="Symbol">(</a><a id="9042" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="9047" class="Symbol">(</a><a id="9048" href="/Untyped/#4238" class="InductiveConstructor Operator">ƛ</a> <a id="9050" href="/DenotAdequate/#9006" class="Bound">M</a><a id="9051" class="Symbol">)</a> <a id="9053" href="/DenotAdequate/#9009" class="Bound">γ</a><a id="9054" class="Symbol">)</a></pre>

<ul>
  <li>
    <p>If the value is ⊥, then the result is true (⊤).</p>
  </li>
  <li>
    <p>If the value is a join (v₁ ⊔ v₂), then the result is the pair
(conjunction) of 𝕍 is true for both v₁ and v₂.</p>
  </li>
  <li>
    <p>The important case is for a function value (v ↦ v’) and closure
(clos (ƛ M) γ). Given any closure c such that 𝔼 v c, if v’ is
greater than a function, then M evaluates (with γ extended with c)
to some closure c’ and we have 𝕍 v’ c’.</p>
  </li>
</ul>

<p>The definition of 𝔼 is straightforward. If v is a greater than a
function, then M evaluates to a closure related to v.</p>

<pre class="Agda"><a id="9609" href="/DenotAdequate/#8333" class="Function">𝔼</a> <a id="9611" href="/DenotAdequate/#9611" class="Bound">v</a> <a id="9613" class="Symbol">(</a><a id="9614" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="9619" href="/DenotAdequate/#9619" class="Bound">M</a> <a id="9621" href="/DenotAdequate/#9621" class="Bound">γ&#39;</a><a id="9623" class="Symbol">)</a> <a id="9625" class="Symbol">=</a> <a id="9627" href="/DenotAdequate/#2706" class="Function">AboveFun</a> <a id="9636" href="/DenotAdequate/#9611" class="Bound">v</a> <a id="9638" class="Symbol">→</a> <a id="9640" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">Σ[</a> <a id="9643" href="/DenotAdequate/#9643" class="Bound">c</a> <a id="9645" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">∈</a> <a id="9647" href="/DenotAdequate/#5776" class="Datatype">Clos</a> <a id="9652" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">]</a> <a id="9654" href="/DenotAdequate/#9621" class="Bound">γ&#39;</a> <a id="9657" href="/DenotAdequate/#6207" class="Datatype Operator">⊢</a> <a id="9659" href="/DenotAdequate/#9619" class="Bound">M</a> <a id="9661" href="/DenotAdequate/#6207" class="Datatype Operator">⇓</a> <a id="9663" href="/DenotAdequate/#9643" class="Bound">c</a> <a id="9665" href="https://agda.github.io/agda-stdlib/Data.Product.html#1353" class="Function Operator">×</a> <a id="9667" href="/DenotAdequate/#8310" class="Function">𝕍</a> <a id="9669" href="/DenotAdequate/#9611" class="Bound">v</a> <a id="9671" href="/DenotAdequate/#9643" class="Bound">c</a></pre>

<p>The proof of the main lemma is by induction on γ ⊢ M ↓ v, so it goes
underneath lambda abstractions and must therefore reason about open
terms (terms with variables). Thus, we must relate environments of
semantic values to environments of closures.  In the following, 𝔾
relates γ to γ’ if the corresponding values and closures are related
by 𝔼.</p>

<pre class="Agda"><a id="𝔾"></a><a id="10044" href="/DenotAdequate/#10044" class="Function">𝔾</a> <a id="10046" class="Symbol">:</a> <a id="10048" class="Symbol">∀{</a><a id="10050" href="/DenotAdequate/#10050" class="Bound">Γ</a><a id="10051" class="Symbol">}</a> <a id="10053" class="Symbol">→</a> <a id="10055" href="/Denot/#7488" class="Function">Env</a> <a id="10059" href="/DenotAdequate/#10050" class="Bound">Γ</a> <a id="10061" class="Symbol">→</a> <a id="10063" href="/DenotAdequate/#5746" class="Function">ClosEnv</a> <a id="10071" href="/DenotAdequate/#10050" class="Bound">Γ</a> <a id="10073" class="Symbol">→</a> <a id="10075" class="PrimitiveType">Set</a>
<a id="10079" href="/DenotAdequate/#10044" class="Function">𝔾</a> <a id="10081" class="Symbol">{</a><a id="10082" href="/DenotAdequate/#10082" class="Bound">Γ</a><a id="10083" class="Symbol">}</a> <a id="10085" href="/DenotAdequate/#10085" class="Bound">γ</a> <a id="10087" href="/DenotAdequate/#10087" class="Bound">γ&#39;</a> <a id="10090" class="Symbol">=</a> <a id="10092" class="Symbol">∀{</a><a id="10094" href="/DenotAdequate/#10094" class="Bound">x</a> <a id="10096" class="Symbol">:</a> <a id="10098" href="/DenotAdequate/#10082" class="Bound">Γ</a> <a id="10100" href="/Untyped/#3365" class="Datatype Operator">∋</a> <a id="10102" href="/Untyped/#2694" class="InductiveConstructor">★</a><a id="10103" class="Symbol">}</a> <a id="10105" class="Symbol">→</a> <a id="10107" href="/DenotAdequate/#8333" class="Function">𝔼</a> <a id="10109" class="Symbol">(</a><a id="10110" href="/DenotAdequate/#10085" class="Bound">γ</a> <a id="10112" href="/DenotAdequate/#10094" class="Bound">x</a><a id="10113" class="Symbol">)</a> <a id="10115" class="Symbol">(</a><a id="10116" href="/DenotAdequate/#10087" class="Bound">γ&#39;</a> <a id="10119" href="/DenotAdequate/#10094" class="Bound">x</a><a id="10120" class="Symbol">)</a>

<a id="𝔾-∅"></a><a id="10123" href="/DenotAdequate/#10123" class="Function">𝔾-∅</a> <a id="10127" class="Symbol">:</a> <a id="10129" href="/DenotAdequate/#10044" class="Function">𝔾</a> <a id="10131" href="/Denot/#7628" class="Function">`∅</a> <a id="10134" href="/DenotAdequate/#5974" class="Function">∅&#39;</a>
<a id="10137" href="/DenotAdequate/#10123" class="Function">𝔾-∅</a> <a id="10141" class="Symbol">{()}</a>

<a id="𝔾-ext"></a><a id="10147" href="/DenotAdequate/#10147" class="Function">𝔾-ext</a> <a id="10153" class="Symbol">:</a> <a id="10155" class="Symbol">∀{</a><a id="10157" href="/DenotAdequate/#10157" class="Bound">Γ</a><a id="10158" class="Symbol">}{</a><a id="10160" href="/DenotAdequate/#10160" class="Bound">γ</a> <a id="10162" class="Symbol">:</a> <a id="10164" href="/Denot/#7488" class="Function">Env</a> <a id="10168" href="/DenotAdequate/#10157" class="Bound">Γ</a><a id="10169" class="Symbol">}{</a><a id="10171" href="/DenotAdequate/#10171" class="Bound">γ&#39;</a> <a id="10174" class="Symbol">:</a> <a id="10176" href="/DenotAdequate/#5746" class="Function">ClosEnv</a> <a id="10184" href="/DenotAdequate/#10157" class="Bound">Γ</a><a id="10185" class="Symbol">}{</a><a id="10187" href="/DenotAdequate/#10187" class="Bound">v</a> <a id="10189" href="/DenotAdequate/#10189" class="Bound">c</a><a id="10190" class="Symbol">}</a>
      <a id="10198" class="Symbol">→</a> <a id="10200" href="/DenotAdequate/#10044" class="Function">𝔾</a> <a id="10202" href="/DenotAdequate/#10160" class="Bound">γ</a> <a id="10204" href="/DenotAdequate/#10171" class="Bound">γ&#39;</a> <a id="10207" class="Symbol">→</a> <a id="10209" href="/DenotAdequate/#8333" class="Function">𝔼</a> <a id="10211" href="/DenotAdequate/#10187" class="Bound">v</a> <a id="10213" href="/DenotAdequate/#10189" class="Bound">c</a> <a id="10215" class="Symbol">→</a> <a id="10217" href="/DenotAdequate/#10044" class="Function">𝔾</a> <a id="10219" class="Symbol">(</a><a id="10220" href="/DenotAdequate/#10160" class="Bound">γ</a> <a id="10222" href="/Denot/#7646" class="Function Operator">`,</a> <a id="10225" href="/DenotAdequate/#10187" class="Bound">v</a><a id="10226" class="Symbol">)</a> <a id="10228" class="Symbol">(</a><a id="10229" href="/DenotAdequate/#10171" class="Bound">γ&#39;</a> <a id="10232" href="/DenotAdequate/#5996" class="Function Operator">,&#39;</a> <a id="10235" href="/DenotAdequate/#10189" class="Bound">c</a><a id="10236" class="Symbol">)</a>
<a id="10238" href="/DenotAdequate/#10147" class="Function">𝔾-ext</a> <a id="10244" class="Symbol">{</a><a id="10245" href="/DenotAdequate/#10245" class="Bound">Γ</a><a id="10246" class="Symbol">}</a> <a id="10248" class="Symbol">{</a><a id="10249" href="/DenotAdequate/#10249" class="Bound">γ</a><a id="10250" class="Symbol">}</a> <a id="10252" class="Symbol">{</a><a id="10253" href="/DenotAdequate/#10253" class="Bound">γ&#39;</a><a id="10255" class="Symbol">}</a> <a id="10257" href="/DenotAdequate/#10257" class="Bound">g</a> <a id="10259" href="/DenotAdequate/#10259" class="Bound">e</a> <a id="10261" class="Symbol">{</a><a id="10262" href="/Untyped/#3401" class="InductiveConstructor">Z</a><a id="10263" class="Symbol">}</a> <a id="10265" class="Symbol">=</a> <a id="10267" href="/DenotAdequate/#10259" class="Bound">e</a>
<a id="10269" href="/DenotAdequate/#10147" class="Function">𝔾-ext</a> <a id="10275" class="Symbol">{</a><a id="10276" href="/DenotAdequate/#10276" class="Bound">Γ</a><a id="10277" class="Symbol">}</a> <a id="10279" class="Symbol">{</a><a id="10280" href="/DenotAdequate/#10280" class="Bound">γ</a><a id="10281" class="Symbol">}</a> <a id="10283" class="Symbol">{</a><a id="10284" href="/DenotAdequate/#10284" class="Bound">γ&#39;</a><a id="10286" class="Symbol">}</a> <a id="10288" href="/DenotAdequate/#10288" class="Bound">g</a> <a id="10290" href="/DenotAdequate/#10290" class="Bound">e</a> <a id="10292" class="Symbol">{</a><a id="10293" href="/Untyped/#3446" class="InductiveConstructor Operator">S</a> <a id="10295" href="/DenotAdequate/#10295" class="Bound">x</a><a id="10296" class="Symbol">}</a> <a id="10298" class="Symbol">=</a> <a id="10300" href="/DenotAdequate/#10288" class="Bound">g</a></pre>

<p>We need a few properties of the 𝕍 and 𝔼 relations.  The first is that
a closure in the 𝕍 relation must be in weak-head normal form.  We
define WHNF has follows.</p>

<pre class="Agda"><a id="10490" class="Keyword">data</a> <a id="WHNF"></a><a id="10495" href="/DenotAdequate/#10495" class="Datatype">WHNF</a> <a id="10500" class="Symbol">:</a> <a id="10502" class="Symbol">∀</a> <a id="10504" class="Symbol">{</a><a id="10505" href="/DenotAdequate/#10505" class="Bound">Γ</a> <a id="10507" href="/DenotAdequate/#10507" class="Bound">A</a><a id="10508" class="Symbol">}</a> <a id="10510" class="Symbol">→</a> <a id="10512" href="/DenotAdequate/#10505" class="Bound">Γ</a> <a id="10514" href="/Untyped/#4150" class="Datatype Operator">⊢</a> <a id="10516" href="/DenotAdequate/#10507" class="Bound">A</a> <a id="10518" class="Symbol">→</a> <a id="10520" class="PrimitiveType">Set</a> <a id="10524" class="Keyword">where</a>
  <a id="WHNF.ƛ_"></a><a id="10532" href="/DenotAdequate/#10532" class="InductiveConstructor Operator">ƛ_</a> <a id="10535" class="Symbol">:</a> <a id="10537" class="Symbol">∀</a> <a id="10539" class="Symbol">{</a><a id="10540" href="/DenotAdequate/#10540" class="Bound">Γ</a><a id="10541" class="Symbol">}</a> <a id="10543" class="Symbol">{</a><a id="10544" href="/DenotAdequate/#10544" class="Bound">N</a> <a id="10546" class="Symbol">:</a> <a id="10548" href="/DenotAdequate/#10540" class="Bound">Γ</a> <a id="10550" href="/Untyped/#3018" class="InductiveConstructor Operator">,</a> <a id="10552" href="/Untyped/#2694" class="InductiveConstructor">★</a> <a id="10554" href="/Untyped/#4150" class="Datatype Operator">⊢</a> <a id="10556" href="/Untyped/#2694" class="InductiveConstructor">★</a><a id="10557" class="Symbol">}</a>
     <a id="10564" class="Symbol">→</a> <a id="10566" href="/DenotAdequate/#10495" class="Datatype">WHNF</a> <a id="10571" class="Symbol">(</a><a id="10572" href="/Untyped/#4238" class="InductiveConstructor Operator">ƛ</a> <a id="10574" href="/DenotAdequate/#10544" class="Bound">N</a><a id="10575" class="Symbol">)</a></pre>

<p>The proof goes by cases on the term in the closure.</p>

<pre class="Agda"><a id="𝕍→WHNF"></a><a id="10655" href="/DenotAdequate/#10655" class="Function">𝕍→WHNF</a> <a id="10662" class="Symbol">:</a> <a id="10664" class="Symbol">∀{</a><a id="10666" href="/DenotAdequate/#10666" class="Bound">Γ</a><a id="10667" class="Symbol">}{</a><a id="10669" href="/DenotAdequate/#10669" class="Bound">γ</a> <a id="10671" class="Symbol">:</a> <a id="10673" href="/DenotAdequate/#5746" class="Function">ClosEnv</a> <a id="10681" href="/DenotAdequate/#10666" class="Bound">Γ</a><a id="10682" class="Symbol">}{</a><a id="10684" href="/DenotAdequate/#10684" class="Bound">M</a> <a id="10686" class="Symbol">:</a> <a id="10688" href="/DenotAdequate/#10666" class="Bound">Γ</a> <a id="10690" href="/Untyped/#4150" class="Datatype Operator">⊢</a> <a id="10692" href="/Untyped/#2694" class="InductiveConstructor">★</a><a id="10693" class="Symbol">}{</a><a id="10695" href="/DenotAdequate/#10695" class="Bound">v</a><a id="10696" class="Symbol">}</a>
       <a id="10705" class="Symbol">→</a> <a id="10707" href="/DenotAdequate/#8310" class="Function">𝕍</a> <a id="10709" href="/DenotAdequate/#10695" class="Bound">v</a> <a id="10711" class="Symbol">(</a><a id="10712" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="10717" href="/DenotAdequate/#10684" class="Bound">M</a> <a id="10719" href="/DenotAdequate/#10669" class="Bound">γ</a><a id="10720" class="Symbol">)</a> <a id="10722" class="Symbol">→</a> <a id="10724" href="/DenotAdequate/#10495" class="Datatype">WHNF</a> <a id="10729" href="/DenotAdequate/#10684" class="Bound">M</a>
<a id="10731" href="/DenotAdequate/#10655" class="Function">𝕍→WHNF</a> <a id="10738" class="Symbol">{</a><a id="10739" class="Argument">M</a> <a id="10741" class="Symbol">=</a> <a id="10743" href="/Untyped/#4186" class="InductiveConstructor Operator">`</a> <a id="10745" href="/DenotAdequate/#10745" class="Bound">x</a><a id="10746" class="Symbol">}</a> <a id="10748" class="Symbol">{</a><a id="10749" href="/DenotAdequate/#10749" class="Bound">v</a><a id="10750" class="Symbol">}</a> <a id="10752" class="Symbol">()</a>
<a id="10755" href="/DenotAdequate/#10655" class="Function">𝕍→WHNF</a> <a id="10762" class="Symbol">{</a><a id="10763" class="Argument">M</a> <a id="10765" class="Symbol">=</a> <a id="10767" href="/Untyped/#4238" class="InductiveConstructor Operator">ƛ</a> <a id="10769" href="/DenotAdequate/#10769" class="Bound">M</a><a id="10770" class="Symbol">}</a> <a id="10772" class="Symbol">{</a><a id="10773" href="/DenotAdequate/#10773" class="Bound">v</a><a id="10774" class="Symbol">}</a> <a id="10776" href="/DenotAdequate/#10776" class="Bound">vc</a> <a id="10779" class="Symbol">=</a> <a id="10781" href="/DenotAdequate/#10532" class="InductiveConstructor Operator">ƛ_</a>
<a id="10784" href="/DenotAdequate/#10655" class="Function">𝕍→WHNF</a> <a id="10791" class="Symbol">{</a><a id="10792" class="Argument">M</a> <a id="10794" class="Symbol">=</a> <a id="10796" href="/DenotAdequate/#10796" class="Bound">M</a> <a id="10798" href="/Untyped/#4298" class="InductiveConstructor Operator">·</a> <a id="10800" href="/DenotAdequate/#10800" class="Bound">M₁</a><a id="10802" class="Symbol">}</a> <a id="10804" class="Symbol">{</a><a id="10805" href="/DenotAdequate/#10805" class="Bound">v</a><a id="10806" class="Symbol">}</a> <a id="10808" class="Symbol">()</a></pre>

<p>Next we have an introduction rule for 𝕍 that mimics the (⊔-intro)
rule. If both v₁ and v₂ are related to a closure c, then their join is
too.</p>

<pre class="Agda"><a id="𝕍⊔-intro"></a><a id="10979" href="/DenotAdequate/#10979" class="Function">𝕍⊔-intro</a> <a id="10988" class="Symbol">:</a> <a id="10990" class="Symbol">∀{</a><a id="10992" href="/DenotAdequate/#10992" class="Bound">c</a> <a id="10994" href="/DenotAdequate/#10994" class="Bound">v₁</a> <a id="10997" href="/DenotAdequate/#10997" class="Bound">v₂</a><a id="10999" class="Symbol">}</a>
         <a id="11010" class="Symbol">→</a> <a id="11012" href="/DenotAdequate/#8310" class="Function">𝕍</a> <a id="11014" href="/DenotAdequate/#10994" class="Bound">v₁</a> <a id="11017" href="/DenotAdequate/#10992" class="Bound">c</a> <a id="11019" class="Symbol">→</a> <a id="11021" href="/DenotAdequate/#8310" class="Function">𝕍</a> <a id="11023" href="/DenotAdequate/#10997" class="Bound">v₂</a> <a id="11026" href="/DenotAdequate/#10992" class="Bound">c</a>
           <a id="11039" class="Comment">---------------</a>
         <a id="11064" class="Symbol">→</a> <a id="11066" href="/DenotAdequate/#8310" class="Function">𝕍</a> <a id="11068" class="Symbol">(</a><a id="11069" href="/DenotAdequate/#10994" class="Bound">v₁</a> <a id="11072" href="/Denot/#4163" class="InductiveConstructor Operator">⊔</a> <a id="11074" href="/DenotAdequate/#10997" class="Bound">v₂</a><a id="11076" class="Symbol">)</a> <a id="11078" href="/DenotAdequate/#10992" class="Bound">c</a>
<a id="11080" href="/DenotAdequate/#10979" class="Function">𝕍⊔-intro</a> <a id="11089" class="Symbol">{</a><a id="11090" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="11095" class="Symbol">(</a><a id="11096" href="/Untyped/#4186" class="InductiveConstructor Operator">`</a> <a id="11098" href="/DenotAdequate/#11098" class="Bound">x₁</a><a id="11100" class="Symbol">)</a> <a id="11102" href="/DenotAdequate/#11102" class="Bound">x</a><a id="11103" class="Symbol">}</a> <a id="11105" class="Symbol">()</a> <a id="11108" href="/DenotAdequate/#11108" class="Bound">v2c</a>
<a id="11112" href="/DenotAdequate/#10979" class="Function">𝕍⊔-intro</a> <a id="11121" class="Symbol">{</a><a id="11122" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="11127" class="Symbol">(</a><a id="11128" href="/Untyped/#4238" class="InductiveConstructor Operator">ƛ</a> <a id="11130" href="/DenotAdequate/#11130" class="Bound">M</a><a id="11131" class="Symbol">)</a> <a id="11133" href="/DenotAdequate/#11133" class="Bound">x</a><a id="11134" class="Symbol">}</a> <a id="11136" href="/DenotAdequate/#11136" class="Bound">v1c</a> <a id="11140" href="/DenotAdequate/#11140" class="Bound">v2c</a> <a id="11144" class="Symbol">=</a> <a id="11146" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="11148" href="/DenotAdequate/#11136" class="Bound">v1c</a> <a id="11152" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="11154" href="/DenotAdequate/#11140" class="Bound">v2c</a> <a id="11158" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>
<a id="11160" href="/DenotAdequate/#10979" class="Function">𝕍⊔-intro</a> <a id="11169" class="Symbol">{</a><a id="11170" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="11175" class="Symbol">(</a><a id="11176" href="/DenotAdequate/#11176" class="Bound">M</a> <a id="11178" href="/Untyped/#4298" class="InductiveConstructor Operator">·</a> <a id="11180" href="/DenotAdequate/#11180" class="Bound">M₁</a><a id="11182" class="Symbol">)</a> <a id="11184" href="/DenotAdequate/#11184" class="Bound">x</a><a id="11185" class="Symbol">}</a> <a id="11187" class="Symbol">()</a> <a id="11190" href="/DenotAdequate/#11190" class="Bound">v2c</a></pre>

<p>In a moment we prove that 𝕍 is preserved when going from a greater
value to a lesser value: if 𝕍 v c and v’ ⊑ v, then 𝕍 v’ c.
This property, named 𝕍-sub, is needed by the main lemma in
the case for the (sub) rule.</p>

<p>To prove 𝕍-sub, we in turn need the following property concerning
values that are not greater than a function, that is, values that are
equivalent to ⊥. In such cases, 𝕍 v (clos (ƛ M) γ’) is trivially true.</p>

<pre class="Agda"><a id="not-AboveFun-𝕍"></a><a id="11642" href="/DenotAdequate/#11642" class="Function">not-AboveFun-𝕍</a> <a id="11657" class="Symbol">:</a> <a id="11659" class="Symbol">∀{</a><a id="11661" href="/DenotAdequate/#11661" class="Bound">v</a> <a id="11663" class="Symbol">:</a> <a id="11665" href="/Denot/#4101" class="Datatype">Value</a><a id="11670" class="Symbol">}{</a><a id="11672" href="/DenotAdequate/#11672" class="Bound">Γ</a><a id="11673" class="Symbol">}{</a><a id="11675" href="/DenotAdequate/#11675" class="Bound">γ&#39;</a> <a id="11678" class="Symbol">:</a> <a id="11680" href="/DenotAdequate/#5746" class="Function">ClosEnv</a> <a id="11688" href="/DenotAdequate/#11672" class="Bound">Γ</a><a id="11689" class="Symbol">}{</a><a id="11691" href="/DenotAdequate/#11691" class="Bound">M</a> <a id="11693" class="Symbol">:</a> <a id="11695" href="/DenotAdequate/#11672" class="Bound">Γ</a> <a id="11697" href="/Untyped/#3018" class="InductiveConstructor Operator">,</a> <a id="11699" href="/Untyped/#2694" class="InductiveConstructor">★</a> <a id="11701" href="/Untyped/#4150" class="Datatype Operator">⊢</a> <a id="11703" href="/Untyped/#2694" class="InductiveConstructor">★</a> <a id="11705" class="Symbol">}</a>
    <a id="11711" class="Symbol">→</a> <a id="11713" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#464" class="Function Operator">¬</a> <a id="11715" href="/DenotAdequate/#2706" class="Function">AboveFun</a> <a id="11724" href="/DenotAdequate/#11661" class="Bound">v</a>
      <a id="11732" class="Comment">-------------------</a>
    <a id="11756" class="Symbol">→</a> <a id="11758" href="/DenotAdequate/#8310" class="Function">𝕍</a> <a id="11760" href="/DenotAdequate/#11661" class="Bound">v</a> <a id="11762" class="Symbol">(</a><a id="11763" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="11768" class="Symbol">(</a><a id="11769" href="/Untyped/#4238" class="InductiveConstructor Operator">ƛ</a> <a id="11771" href="/DenotAdequate/#11691" class="Bound">M</a><a id="11772" class="Symbol">)</a> <a id="11774" href="/DenotAdequate/#11675" class="Bound">γ&#39;</a><a id="11776" class="Symbol">)</a>
<a id="11778" href="/DenotAdequate/#11642" class="Function">not-AboveFun-𝕍</a> <a id="11793" class="Symbol">{</a><a id="11794" href="/Denot/#4121" class="InductiveConstructor">⊥</a><a id="11795" class="Symbol">}</a> <a id="11797" href="/DenotAdequate/#11797" class="Bound">af</a> <a id="11800" class="Symbol">=</a> <a id="11802" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Unit.html#106" class="InductiveConstructor">tt</a>
<a id="11805" href="/DenotAdequate/#11642" class="Function">not-AboveFun-𝕍</a> <a id="11820" class="Symbol">{</a><a id="11821" href="/DenotAdequate/#11821" class="Bound">v</a> <a id="11823" href="/Denot/#4133" class="InductiveConstructor Operator">↦</a> <a id="11825" href="/DenotAdequate/#11825" class="Bound">v&#39;</a><a id="11827" class="Symbol">}</a> <a id="11829" href="/DenotAdequate/#11829" class="Bound">af</a> <a id="11832" class="Symbol">=</a> <a id="11834" href="https://agda.github.io/agda-stdlib/Data.Empty.html#360" class="Function">⊥-elim</a> <a id="11841" class="Symbol">(</a><a id="11842" href="https://agda.github.io/agda-stdlib/Relation.Nullary.Negation.html#560" class="Function">contradiction</a> <a id="11856" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="11858" href="/DenotAdequate/#11821" class="Bound">v</a> <a id="11860" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="11862" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="11864" href="/DenotAdequate/#11825" class="Bound">v&#39;</a> <a id="11867" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="11869" href="/Denot/#5698" class="Function">Refl⊑</a> <a id="11875" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="11877" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="11879" href="/DenotAdequate/#11829" class="Bound">af</a><a id="11881" class="Symbol">)</a>
<a id="11883" href="/DenotAdequate/#11642" class="Function">not-AboveFun-𝕍</a> <a id="11898" class="Symbol">{</a><a id="11899" href="/DenotAdequate/#11899" class="Bound">v₁</a> <a id="11902" href="/Denot/#4163" class="InductiveConstructor Operator">⊔</a> <a id="11904" href="/DenotAdequate/#11904" class="Bound">v₂</a><a id="11906" class="Symbol">}</a> <a id="11908" href="/DenotAdequate/#11908" class="Bound">af</a>
    <a id="11915" class="Keyword">with</a> <a id="11920" href="/DenotAdequate/#4363" class="Function">not-AboveFun-⊔-inv</a> <a id="11939" href="/DenotAdequate/#11908" class="Bound">af</a>
<a id="11942" class="Symbol">...</a> <a id="11946" class="Symbol">|</a> <a id="11948" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="11950" href="/DenotAdequate/#11950" class="Bound">af1</a> <a id="11954" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="11956" href="/DenotAdequate/#11956" class="Bound">af2</a> <a id="11960" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="11962" class="Symbol">=</a> <a id="11964" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="11966" href="/DenotAdequate/#11642" class="Function">not-AboveFun-𝕍</a> <a id="11981" href="/DenotAdequate/#11950" class="Bound">af1</a> <a id="11985" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="11987" href="/DenotAdequate/#11642" class="Function">not-AboveFun-𝕍</a> <a id="12002" href="/DenotAdequate/#11956" class="Bound">af2</a> <a id="12006" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a></pre>

<p>The proofs of 𝕍-sub and 𝔼-sub are intertwined.</p>

<pre class="Agda"><a id="sub-𝕍"></a><a id="12081" href="/DenotAdequate/#12081" class="Function">sub-𝕍</a> <a id="12087" class="Symbol">:</a> <a id="12089" class="Symbol">∀{</a><a id="12091" href="/DenotAdequate/#12091" class="Bound">c</a> <a id="12093" class="Symbol">:</a> <a id="12095" href="/DenotAdequate/#5776" class="Datatype">Clos</a><a id="12099" class="Symbol">}{</a><a id="12101" href="/DenotAdequate/#12101" class="Bound">v</a> <a id="12103" href="/DenotAdequate/#12103" class="Bound">v&#39;</a><a id="12105" class="Symbol">}</a> <a id="12107" class="Symbol">→</a> <a id="12109" href="/DenotAdequate/#8310" class="Function">𝕍</a> <a id="12111" href="/DenotAdequate/#12101" class="Bound">v</a> <a id="12113" href="/DenotAdequate/#12091" class="Bound">c</a> <a id="12115" class="Symbol">→</a> <a id="12117" href="/DenotAdequate/#12103" class="Bound">v&#39;</a> <a id="12120" href="/Denot/#4466" class="Datatype Operator">⊑</a> <a id="12122" href="/DenotAdequate/#12101" class="Bound">v</a> <a id="12124" class="Symbol">→</a> <a id="12126" href="/DenotAdequate/#8310" class="Function">𝕍</a> <a id="12128" href="/DenotAdequate/#12103" class="Bound">v&#39;</a> <a id="12131" href="/DenotAdequate/#12091" class="Bound">c</a>
<a id="sub-𝔼"></a><a id="12133" href="/DenotAdequate/#12133" class="Function">sub-𝔼</a> <a id="12139" class="Symbol">:</a> <a id="12141" class="Symbol">∀{</a><a id="12143" href="/DenotAdequate/#12143" class="Bound">c</a> <a id="12145" class="Symbol">:</a> <a id="12147" href="/DenotAdequate/#5776" class="Datatype">Clos</a><a id="12151" class="Symbol">}{</a><a id="12153" href="/DenotAdequate/#12153" class="Bound">v</a> <a id="12155" href="/DenotAdequate/#12155" class="Bound">v&#39;</a><a id="12157" class="Symbol">}</a> <a id="12159" class="Symbol">→</a> <a id="12161" href="/DenotAdequate/#8333" class="Function">𝔼</a> <a id="12163" href="/DenotAdequate/#12153" class="Bound">v</a> <a id="12165" href="/DenotAdequate/#12143" class="Bound">c</a> <a id="12167" class="Symbol">→</a> <a id="12169" href="/DenotAdequate/#12155" class="Bound">v&#39;</a> <a id="12172" href="/Denot/#4466" class="Datatype Operator">⊑</a> <a id="12174" href="/DenotAdequate/#12153" class="Bound">v</a> <a id="12176" class="Symbol">→</a> <a id="12178" href="/DenotAdequate/#8333" class="Function">𝔼</a> <a id="12180" href="/DenotAdequate/#12155" class="Bound">v&#39;</a> <a id="12183" href="/DenotAdequate/#12143" class="Bound">c</a></pre>

<p>We prove 𝕍-sub by case analysis on the closure’s term, to dispatch the
cases for variables and application. We then proceed by induction on
v’ ⊑ v. We describe each case below.</p>

<pre class="Agda"><a id="12388" href="/DenotAdequate/#12081" class="Function">sub-𝕍</a> <a id="12394" class="Symbol">{</a><a id="12395" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="12400" class="Symbol">(</a><a id="12401" href="/Untyped/#4186" class="InductiveConstructor Operator">`</a> <a id="12403" href="/DenotAdequate/#12403" class="Bound">x</a><a id="12404" class="Symbol">)</a> <a id="12406" href="/DenotAdequate/#12406" class="Bound">γ</a><a id="12407" class="Symbol">}</a> <a id="12409" class="Symbol">{</a><a id="12410" href="/DenotAdequate/#12410" class="Bound">v</a><a id="12411" class="Symbol">}</a> <a id="12413" class="Symbol">()</a> <a id="12416" href="/DenotAdequate/#12416" class="Bound">lt</a>
<a id="12419" href="/DenotAdequate/#12081" class="Function">sub-𝕍</a> <a id="12425" class="Symbol">{</a><a id="12426" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="12431" class="Symbol">(</a><a id="12432" href="/DenotAdequate/#12432" class="Bound">M₁</a> <a id="12435" href="/Untyped/#4298" class="InductiveConstructor Operator">·</a> <a id="12437" href="/DenotAdequate/#12437" class="Bound">M₂</a><a id="12439" class="Symbol">)</a> <a id="12441" href="/DenotAdequate/#12441" class="Bound">γ</a><a id="12442" class="Symbol">}</a> <a id="12444" class="Symbol">()</a> <a id="12447" href="/DenotAdequate/#12447" class="Bound">lt</a>
<a id="12450" href="/DenotAdequate/#12081" class="Function">sub-𝕍</a> <a id="12456" class="Symbol">{</a><a id="12457" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="12462" class="Symbol">(</a><a id="12463" href="/Untyped/#4238" class="InductiveConstructor Operator">ƛ</a> <a id="12465" href="/DenotAdequate/#12465" class="Bound">M</a><a id="12466" class="Symbol">)</a> <a id="12468" href="/DenotAdequate/#12468" class="Bound">γ</a><a id="12469" class="Symbol">}</a> <a id="12471" href="/DenotAdequate/#12471" class="Bound">vc</a> <a id="12474" href="/Denot/#4501" class="InductiveConstructor">Bot⊑</a> <a id="12479" class="Symbol">=</a> <a id="12481" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Unit.html#106" class="InductiveConstructor">tt</a>
<a id="12484" href="/DenotAdequate/#12081" class="Function">sub-𝕍</a> <a id="12490" class="Symbol">{</a><a id="12491" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="12496" class="Symbol">(</a><a id="12497" href="/Untyped/#4238" class="InductiveConstructor Operator">ƛ</a> <a id="12499" href="/DenotAdequate/#12499" class="Bound">M</a><a id="12500" class="Symbol">)</a> <a id="12502" href="/DenotAdequate/#12502" class="Bound">γ</a><a id="12503" class="Symbol">}</a> <a id="12505" href="/DenotAdequate/#12505" class="Bound">vc</a> <a id="12508" class="Symbol">(</a><a id="12509" href="/Denot/#4525" class="InductiveConstructor">ConjL⊑</a> <a id="12516" href="/DenotAdequate/#12516" class="Bound">lt1</a> <a id="12520" href="/DenotAdequate/#12520" class="Bound">lt2</a><a id="12523" class="Symbol">)</a> <a id="12525" class="Symbol">=</a> <a id="12527" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="12529" class="Symbol">(</a><a id="12530" href="/DenotAdequate/#12081" class="Function">sub-𝕍</a> <a id="12536" href="/DenotAdequate/#12505" class="Bound">vc</a> <a id="12539" href="/DenotAdequate/#12516" class="Bound">lt1</a><a id="12542" class="Symbol">)</a> <a id="12544" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="12546" href="/DenotAdequate/#12081" class="Function">sub-𝕍</a> <a id="12552" href="/DenotAdequate/#12505" class="Bound">vc</a> <a id="12555" href="/DenotAdequate/#12520" class="Bound">lt2</a> <a id="12559" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>
<a id="12561" href="/DenotAdequate/#12081" class="Function">sub-𝕍</a> <a id="12567" class="Symbol">{</a><a id="12568" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="12573" class="Symbol">(</a><a id="12574" href="/Untyped/#4238" class="InductiveConstructor Operator">ƛ</a> <a id="12576" href="/DenotAdequate/#12576" class="Bound">M</a><a id="12577" class="Symbol">)</a> <a id="12579" href="/DenotAdequate/#12579" class="Bound">γ</a><a id="12580" class="Symbol">}</a> <a id="12582" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="12584" href="/DenotAdequate/#12584" class="Bound">vv1</a> <a id="12588" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="12590" href="/DenotAdequate/#12590" class="Bound">vv2</a> <a id="12594" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="12596" class="Symbol">(</a><a id="12597" href="/Denot/#4627" class="InductiveConstructor">ConjR1⊑</a> <a id="12605" href="/DenotAdequate/#12605" class="Bound">lt</a><a id="12607" class="Symbol">)</a> <a id="12609" class="Symbol">=</a> <a id="12611" href="/DenotAdequate/#12081" class="Function">sub-𝕍</a> <a id="12617" href="/DenotAdequate/#12584" class="Bound">vv1</a> <a id="12621" href="/DenotAdequate/#12605" class="Bound">lt</a>
<a id="12624" href="/DenotAdequate/#12081" class="Function">sub-𝕍</a> <a id="12630" class="Symbol">{</a><a id="12631" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="12636" class="Symbol">(</a><a id="12637" href="/Untyped/#4238" class="InductiveConstructor Operator">ƛ</a> <a id="12639" href="/DenotAdequate/#12639" class="Bound">M</a><a id="12640" class="Symbol">)</a> <a id="12642" href="/DenotAdequate/#12642" class="Bound">γ</a><a id="12643" class="Symbol">}</a> <a id="12645" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="12647" href="/DenotAdequate/#12647" class="Bound">vv1</a> <a id="12651" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="12653" href="/DenotAdequate/#12653" class="Bound">vv2</a> <a id="12657" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="12659" class="Symbol">(</a><a id="12660" href="/Denot/#4708" class="InductiveConstructor">ConjR2⊑</a> <a id="12668" href="/DenotAdequate/#12668" class="Bound">lt</a><a id="12670" class="Symbol">)</a> <a id="12672" class="Symbol">=</a> <a id="12674" href="/DenotAdequate/#12081" class="Function">sub-𝕍</a> <a id="12680" href="/DenotAdequate/#12653" class="Bound">vv2</a> <a id="12684" href="/DenotAdequate/#12668" class="Bound">lt</a>
<a id="12687" href="/DenotAdequate/#12081" class="Function">sub-𝕍</a> <a id="12693" class="Symbol">{</a><a id="12694" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="12699" class="Symbol">(</a><a id="12700" href="/Untyped/#4238" class="InductiveConstructor Operator">ƛ</a> <a id="12702" href="/DenotAdequate/#12702" class="Bound">M</a><a id="12703" class="Symbol">)</a> <a id="12705" href="/DenotAdequate/#12705" class="Bound">γ</a><a id="12706" class="Symbol">}</a> <a id="12708" href="/DenotAdequate/#12708" class="Bound">vc</a> <a id="12711" class="Symbol">(</a><a id="12712" href="/Denot/#4789" class="InductiveConstructor">Trans⊑</a><a id="12718" class="Symbol">{</a><a id="12719" class="Argument">v₂</a> <a id="12722" class="Symbol">=</a> <a id="12724" href="/DenotAdequate/#12724" class="Bound">v₂</a><a id="12726" class="Symbol">}</a> <a id="12728" href="/DenotAdequate/#12728" class="Bound">lt1</a> <a id="12732" href="/DenotAdequate/#12732" class="Bound">lt2</a><a id="12735" class="Symbol">)</a> <a id="12737" class="Symbol">=</a> <a id="12739" href="/DenotAdequate/#12081" class="Function">sub-𝕍</a> <a id="12745" class="Symbol">(</a><a id="12746" href="/DenotAdequate/#12081" class="Function">sub-𝕍</a> <a id="12752" href="/DenotAdequate/#12708" class="Bound">vc</a> <a id="12755" href="/DenotAdequate/#12732" class="Bound">lt2</a><a id="12758" class="Symbol">)</a> <a id="12760" href="/DenotAdequate/#12728" class="Bound">lt1</a>
<a id="12764" href="/DenotAdequate/#12081" class="Function">sub-𝕍</a> <a id="12770" class="Symbol">{</a><a id="12771" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="12776" class="Symbol">(</a><a id="12777" href="/Untyped/#4238" class="InductiveConstructor Operator">ƛ</a> <a id="12779" href="/DenotAdequate/#12779" class="Bound">M</a><a id="12780" class="Symbol">)</a> <a id="12782" href="/DenotAdequate/#12782" class="Bound">γ</a><a id="12783" class="Symbol">}</a> <a id="12785" href="/DenotAdequate/#12785" class="Bound">vc</a> <a id="12788" class="Symbol">(</a><a id="12789" href="/Denot/#4875" class="InductiveConstructor">Fun⊑</a> <a id="12794" href="/DenotAdequate/#12794" class="Bound">lt1</a> <a id="12798" href="/DenotAdequate/#12798" class="Bound">lt2</a><a id="12801" class="Symbol">)</a> <a id="12803" href="/DenotAdequate/#12803" class="Bound">ev1</a> <a id="12807" href="/DenotAdequate/#12807" class="Bound">sf</a>
    <a id="12814" class="Keyword">with</a> <a id="12819" href="/DenotAdequate/#12785" class="Bound">vc</a> <a id="12822" class="Symbol">(</a><a id="12823" href="/DenotAdequate/#12133" class="Function">sub-𝔼</a> <a id="12829" href="/DenotAdequate/#12803" class="Bound">ev1</a> <a id="12833" href="/DenotAdequate/#12794" class="Bound">lt1</a><a id="12836" class="Symbol">)</a> <a id="12838" class="Symbol">(</a><a id="12839" href="/DenotAdequate/#2891" class="Function">AboveFun-⊑</a> <a id="12850" href="/DenotAdequate/#12807" class="Bound">sf</a> <a id="12853" href="/DenotAdequate/#12798" class="Bound">lt2</a><a id="12856" class="Symbol">)</a>
<a id="12858" class="Symbol">...</a> <a id="12862" class="Symbol">|</a> <a id="12864" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="12866" href="/DenotAdequate/#12866" class="Bound">c</a> <a id="12868" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="12870" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="12872" href="/DenotAdequate/#12872" class="Bound">Mc</a> <a id="12875" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="12877" href="/DenotAdequate/#12877" class="Bound">v4</a> <a id="12880" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="12882" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="12884" class="Symbol">=</a> <a id="12886" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="12888" href="/DenotAdequate/#12866" class="Bound">c</a> <a id="12890" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="12892" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="12894" href="/DenotAdequate/#12872" class="Bound">Mc</a> <a id="12897" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="12899" href="/DenotAdequate/#12081" class="Function">sub-𝕍</a> <a id="12905" href="/DenotAdequate/#12877" class="Bound">v4</a> <a id="12908" class="Bound">lt2</a> <a id="12912" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="12914" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>
<a id="12916" href="/DenotAdequate/#12081" class="Function">sub-𝕍</a> <a id="12922" class="Symbol">{</a><a id="12923" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="12928" class="Symbol">(</a><a id="12929" href="/Untyped/#4238" class="InductiveConstructor Operator">ƛ</a> <a id="12931" href="/DenotAdequate/#12931" class="Bound">M</a><a id="12932" class="Symbol">)</a> <a id="12934" href="/DenotAdequate/#12934" class="Bound">γ</a><a id="12935" class="Symbol">}</a> <a id="12937" class="Symbol">{</a><a id="12938" href="/DenotAdequate/#12938" class="Bound">v₁</a> <a id="12941" href="/Denot/#4133" class="InductiveConstructor Operator">↦</a> <a id="12943" href="/DenotAdequate/#12943" class="Bound">v₂</a> <a id="12946" href="/Denot/#4163" class="InductiveConstructor Operator">⊔</a> <a id="12948" href="/DenotAdequate/#12938" class="Bound">v₁</a> <a id="12951" href="/Denot/#4133" class="InductiveConstructor Operator">↦</a> <a id="12953" href="/DenotAdequate/#12953" class="Bound">v₃</a><a id="12955" class="Symbol">}</a> <a id="12957" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="12959" href="/DenotAdequate/#12959" class="Bound">vc12</a> <a id="12964" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="12966" href="/DenotAdequate/#12966" class="Bound">vc13</a> <a id="12971" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="12973" href="/Denot/#4997" class="InductiveConstructor">Dist⊑</a> <a id="12979" href="/DenotAdequate/#12979" class="Bound">ev1c</a> <a id="12984" href="/DenotAdequate/#12984" class="Bound">sf</a>
    <a id="12991" class="Keyword">with</a> <a id="12996" href="/DenotAdequate/#4970" class="Function">AboveFun?</a> <a id="13006" href="/DenotAdequate/#12943" class="Bound">v₂</a> <a id="13009" class="Symbol">|</a> <a id="13011" href="/DenotAdequate/#4970" class="Function">AboveFun?</a> <a id="13021" href="/DenotAdequate/#12953" class="Bound">v₃</a>
<a id="13024" class="Symbol">...</a> <a id="13028" class="Symbol">|</a> <a id="13030" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="13034" href="/DenotAdequate/#13034" class="Bound">af2</a> <a id="13038" class="Symbol">|</a> <a id="13040" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="13044" href="/DenotAdequate/#13044" class="Bound">af3</a>
    <a id="13052" class="Keyword">with</a> <a id="13057" class="Bound">vc12</a> <a id="13062" class="Bound">ev1c</a> <a id="13067" href="/DenotAdequate/#13034" class="Bound">af2</a> <a id="13071" class="Symbol">|</a> <a id="13073" class="Bound">vc13</a> <a id="13078" class="Bound">ev1c</a> <a id="13083" href="/DenotAdequate/#13044" class="Bound">af3</a>
<a id="13087" class="Symbol">...</a> <a id="13091" class="Symbol">|</a> <a id="13093" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="13095" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="13100" href="/DenotAdequate/#13100" class="Bound">N</a> <a id="13102" href="/DenotAdequate/#13102" class="Bound">δ</a> <a id="13104" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="13106" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="13108" href="/DenotAdequate/#13108" class="Bound">M⇓c₂</a> <a id="13113" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="13115" href="/DenotAdequate/#13115" class="Bound">𝕍v₂</a> <a id="13119" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="13121" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>
    <a id="13127" class="Symbol">|</a> <a id="13129" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="13131" href="/DenotAdequate/#13131" class="Bound">c₃</a> <a id="13134" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="13136" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="13138" href="/DenotAdequate/#13138" class="Bound">M⇓c₃</a> <a id="13143" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="13145" href="/DenotAdequate/#13145" class="Bound">𝕍v₃</a> <a id="13149" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="13151" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="13153" class="Keyword">rewrite</a> <a id="13161" href="/DenotAdequate/#7508" class="Function">⇓-determ</a> <a id="13170" href="/DenotAdequate/#13138" class="Bound">M⇓c₃</a> <a id="13175" href="/DenotAdequate/#13108" class="Bound">M⇓c₂</a> <a id="13180" class="Keyword">with</a> <a id="13185" href="/DenotAdequate/#10655" class="Function">𝕍→WHNF</a> <a id="13192" href="/DenotAdequate/#13115" class="Bound">𝕍v₂</a>
<a id="13196" class="Symbol">...</a> <a id="13200" class="Symbol">|</a> <a id="13202" href="/DenotAdequate/#10532" class="InductiveConstructor Operator">ƛ_</a> <a id="13205" class="Symbol">=</a>
      <a id="13213" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="13215" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="13220" class="Bound">N</a> <a id="13222" class="Bound">δ</a> <a id="13224" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="13226" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="13228" class="Bound">M⇓c₂</a> <a id="13233" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="13235" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="13237" class="Bound">𝕍v₂</a> <a id="13241" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="13243" class="Bound">𝕍v₃</a> <a id="13247" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="13249" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="13251" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>
<a id="13253" href="/DenotAdequate/#12081" class="Function">sub-𝕍</a> <a id="13259" class="Symbol">{</a><a id="13260" href="/DenotAdequate/#13260" class="Bound">c</a><a id="13261" class="Symbol">}</a> <a id="13263" class="Symbol">{</a><a id="13264" href="/DenotAdequate/#13264" class="Bound">v₁</a> <a id="13267" href="/Denot/#4133" class="InductiveConstructor Operator">↦</a> <a id="13269" href="/DenotAdequate/#13269" class="Bound">v₂</a> <a id="13272" href="/Denot/#4163" class="InductiveConstructor Operator">⊔</a> <a id="13274" href="/DenotAdequate/#13264" class="Bound">v₁</a> <a id="13277" href="/Denot/#4133" class="InductiveConstructor Operator">↦</a> <a id="13279" href="/DenotAdequate/#13279" class="Bound">v₃</a><a id="13281" class="Symbol">}</a> <a id="13283" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="13285" href="/DenotAdequate/#13285" class="Bound">vc12</a> <a id="13290" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="13292" href="/DenotAdequate/#13292" class="Bound">vc13</a> <a id="13297" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>  <a id="13300" href="/Denot/#4997" class="InductiveConstructor">Dist⊑</a> <a id="13306" href="/DenotAdequate/#13306" class="Bound">ev1c</a> <a id="13311" href="/DenotAdequate/#13311" class="Bound">sf</a>
    <a id="13318" class="Symbol">|</a> <a id="13320" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="13324" href="/DenotAdequate/#13324" class="Bound">af2</a> <a id="13328" class="Symbol">|</a> <a id="13330" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="13333" href="/DenotAdequate/#13333" class="Bound">naf3</a>
    <a id="13342" class="Keyword">with</a> <a id="13347" href="/DenotAdequate/#13285" class="Bound">vc12</a> <a id="13352" href="/DenotAdequate/#13306" class="Bound">ev1c</a> <a id="13357" href="/DenotAdequate/#13324" class="Bound">af2</a>
<a id="13361" class="Symbol">...</a> <a id="13365" class="Symbol">|</a> <a id="13367" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="13369" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="13374" class="Symbol">{</a><a id="13375" href="/DenotAdequate/#13375" class="Bound">Γ&#39;</a><a id="13377" class="Symbol">}</a> <a id="13379" href="/DenotAdequate/#13379" class="Bound">N</a> <a id="13381" href="/DenotAdequate/#13381" class="Bound">γ₁</a> <a id="13384" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="13386" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="13388" href="/DenotAdequate/#13388" class="Bound">M⇓c2</a> <a id="13393" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="13395" href="/DenotAdequate/#13395" class="Bound">𝕍v₂</a> <a id="13399" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="13401" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>
    <a id="13407" class="Keyword">with</a> <a id="13412" href="/DenotAdequate/#10655" class="Function">𝕍→WHNF</a> <a id="13419" href="/DenotAdequate/#13395" class="Bound">𝕍v₂</a>
<a id="13423" class="Symbol">...</a> <a id="13427" class="Symbol">|</a> <a id="13429" href="/DenotAdequate/#10532" class="InductiveConstructor Operator">ƛ_</a> <a id="13432" class="Symbol">{</a><a id="13433" class="Argument">N</a> <a id="13435" class="Symbol">=</a> <a id="13437" href="/DenotAdequate/#13437" class="Bound">N&#39;</a><a id="13439" class="Symbol">}</a> <a id="13441" class="Symbol">=</a>
      <a id="13449" class="Keyword">let</a> <a id="13453" href="/DenotAdequate/#13453" class="Bound">𝕍v₃</a> <a id="13457" class="Symbol">=</a> <a id="13459" href="/DenotAdequate/#11642" class="Function">not-AboveFun-𝕍</a><a id="13473" class="Symbol">{</a><a id="13474" class="Bound">v₃</a><a id="13476" class="Symbol">}{</a><a id="13478" class="Bound">Γ&#39;</a><a id="13480" class="Symbol">}{</a><a id="13482" class="Bound">γ₁</a><a id="13484" class="Symbol">}{</a><a id="13486" href="/DenotAdequate/#13437" class="Bound">N&#39;</a><a id="13488" class="Symbol">}</a> <a id="13490" class="Bound">naf3</a> <a id="13495" class="Keyword">in</a>
      <a id="13504" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="13506" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="13511" class="Symbol">(</a><a id="13512" href="/Untyped/#4238" class="InductiveConstructor Operator">ƛ</a> <a id="13514" href="/DenotAdequate/#13437" class="Bound">N&#39;</a><a id="13516" class="Symbol">)</a> <a id="13518" class="Bound">γ₁</a> <a id="13521" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="13523" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="13525" class="Bound">M⇓c2</a> <a id="13530" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="13532" href="/DenotAdequate/#10979" class="Function">𝕍⊔-intro</a> <a id="13541" class="Bound">𝕍v₂</a> <a id="13545" href="/DenotAdequate/#13453" class="Bound">𝕍v₃</a> <a id="13549" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="13551" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>
<a id="13553" href="/DenotAdequate/#12081" class="Function">sub-𝕍</a> <a id="13559" class="Symbol">{</a><a id="13560" href="/DenotAdequate/#13560" class="Bound">c</a><a id="13561" class="Symbol">}</a> <a id="13563" class="Symbol">{</a><a id="13564" href="/DenotAdequate/#13564" class="Bound">v₁</a> <a id="13567" href="/Denot/#4133" class="InductiveConstructor Operator">↦</a> <a id="13569" href="/DenotAdequate/#13569" class="Bound">v₂</a> <a id="13572" href="/Denot/#4163" class="InductiveConstructor Operator">⊔</a> <a id="13574" href="/DenotAdequate/#13564" class="Bound">v₁</a> <a id="13577" href="/Denot/#4133" class="InductiveConstructor Operator">↦</a> <a id="13579" href="/DenotAdequate/#13579" class="Bound">v₃</a><a id="13581" class="Symbol">}</a> <a id="13583" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="13585" href="/DenotAdequate/#13585" class="Bound">vc12</a> <a id="13590" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="13592" href="/DenotAdequate/#13592" class="Bound">vc13</a> <a id="13597" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="13599" href="/Denot/#4997" class="InductiveConstructor">Dist⊑</a> <a id="13605" href="/DenotAdequate/#13605" class="Bound">ev1c</a> <a id="13610" href="/DenotAdequate/#13610" class="Bound">sf</a>
    <a id="13617" class="Symbol">|</a> <a id="13619" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="13622" href="/DenotAdequate/#13622" class="Bound">naf2</a> <a id="13627" class="Symbol">|</a> <a id="13629" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="13633" href="/DenotAdequate/#13633" class="Bound">af3</a>
    <a id="13641" class="Keyword">with</a> <a id="13646" href="/DenotAdequate/#13592" class="Bound">vc13</a> <a id="13651" href="/DenotAdequate/#13605" class="Bound">ev1c</a> <a id="13656" href="/DenotAdequate/#13633" class="Bound">af3</a>
<a id="13660" class="Symbol">...</a> <a id="13664" class="Symbol">|</a> <a id="13666" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="13668" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="13673" class="Symbol">{</a><a id="13674" href="/DenotAdequate/#13674" class="Bound">Γ&#39;</a><a id="13676" class="Symbol">}</a> <a id="13678" href="/DenotAdequate/#13678" class="Bound">N</a> <a id="13680" href="/DenotAdequate/#13680" class="Bound">γ₁</a> <a id="13683" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="13685" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="13687" href="/DenotAdequate/#13687" class="Bound">M⇓c3</a> <a id="13692" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="13694" href="/DenotAdequate/#13694" class="Bound">𝕍3c</a> <a id="13698" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="13700" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> 
    <a id="13707" class="Keyword">with</a> <a id="13712" href="/DenotAdequate/#10655" class="Function">𝕍→WHNF</a> <a id="13719" href="/DenotAdequate/#13694" class="Bound">𝕍3c</a>
<a id="13723" class="Symbol">...</a> <a id="13727" class="Symbol">|</a> <a id="13729" href="/DenotAdequate/#10532" class="InductiveConstructor Operator">ƛ_</a> <a id="13732" class="Symbol">{</a><a id="13733" class="Argument">N</a> <a id="13735" class="Symbol">=</a> <a id="13737" href="/DenotAdequate/#13737" class="Bound">N&#39;</a><a id="13739" class="Symbol">}</a> <a id="13741" class="Symbol">=</a>
      <a id="13749" class="Keyword">let</a> <a id="13753" href="/DenotAdequate/#13753" class="Bound">𝕍2c</a> <a id="13757" class="Symbol">=</a> <a id="13759" href="/DenotAdequate/#11642" class="Function">not-AboveFun-𝕍</a><a id="13773" class="Symbol">{</a><a id="13774" class="Bound">v₂</a><a id="13776" class="Symbol">}{</a><a id="13778" class="Bound">Γ&#39;</a><a id="13780" class="Symbol">}{</a><a id="13782" class="Bound">γ₁</a><a id="13784" class="Symbol">}{</a><a id="13786" href="/DenotAdequate/#13737" class="Bound">N&#39;</a><a id="13788" class="Symbol">}</a> <a id="13790" class="Bound">naf2</a> <a id="13795" class="Keyword">in</a>
      <a id="13804" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="13806" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="13811" class="Symbol">(</a><a id="13812" href="/Untyped/#4238" class="InductiveConstructor Operator">ƛ</a> <a id="13814" href="/DenotAdequate/#13737" class="Bound">N&#39;</a><a id="13816" class="Symbol">)</a> <a id="13818" class="Bound">γ₁</a> <a id="13821" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="13823" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="13825" class="Bound">M⇓c3</a> <a id="13830" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="13832" href="/DenotAdequate/#10979" class="Function">𝕍⊔-intro</a> <a id="13841" href="/DenotAdequate/#13753" class="Bound">𝕍2c</a> <a id="13845" class="Bound">𝕍3c</a> <a id="13849" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="13851" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>
<a id="13853" href="/DenotAdequate/#12081" class="Function">sub-𝕍</a> <a id="13859" class="Symbol">{</a><a id="13860" href="/DenotAdequate/#13860" class="Bound">c</a><a id="13861" class="Symbol">}</a> <a id="13863" class="Symbol">{</a><a id="13864" href="/DenotAdequate/#13864" class="Bound">v₁</a> <a id="13867" href="/Denot/#4133" class="InductiveConstructor Operator">↦</a> <a id="13869" href="/DenotAdequate/#13869" class="Bound">v₂</a> <a id="13872" href="/Denot/#4163" class="InductiveConstructor Operator">⊔</a> <a id="13874" href="/DenotAdequate/#13864" class="Bound">v₁</a> <a id="13877" href="/Denot/#4133" class="InductiveConstructor Operator">↦</a> <a id="13879" href="/DenotAdequate/#13879" class="Bound">v₃</a><a id="13881" class="Symbol">}</a> <a id="13883" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="13885" href="/DenotAdequate/#13885" class="Bound">vc12</a> <a id="13890" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="13892" href="/DenotAdequate/#13892" class="Bound">vc13</a> <a id="13897" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>  <a id="13900" href="/Denot/#4997" class="InductiveConstructor">Dist⊑</a> <a id="13906" href="/DenotAdequate/#13906" class="Bound">ev1c</a> <a id="13911" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="13913" href="/DenotAdequate/#13913" class="Bound">v</a> <a id="13915" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="13917" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="13919" href="/DenotAdequate/#13919" class="Bound">v&#39;</a> <a id="13922" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="13924" href="/DenotAdequate/#13924" class="Bound">lt</a> <a id="13927" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="13929" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>
    <a id="13935" class="Symbol">|</a> <a id="13937" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="13940" href="/DenotAdequate/#13940" class="Bound">naf2</a> <a id="13945" class="Symbol">|</a> <a id="13947" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="13950" href="/DenotAdequate/#13950" class="Bound">naf3</a>
    <a id="13959" class="Keyword">with</a> <a id="13964" href="/DenotAdequate/#3458" class="Function">AboveFun-⊔</a> <a id="13975" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="13977" href="/DenotAdequate/#13913" class="Bound">v</a> <a id="13979" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="13981" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="13983" href="/DenotAdequate/#13919" class="Bound">v&#39;</a> <a id="13986" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="13988" href="/DenotAdequate/#13924" class="Bound">lt</a> <a id="13991" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="13993" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>
<a id="13995" class="Symbol">...</a> <a id="13999" class="Symbol">|</a> <a id="14001" href="https://agda.github.io/agda-stdlib/Data.Sum.Base.html#475" class="InductiveConstructor">inj₁</a> <a id="14006" href="/DenotAdequate/#14006" class="Bound">af2</a> <a id="14010" class="Symbol">=</a> <a id="14012" href="https://agda.github.io/agda-stdlib/Data.Empty.html#360" class="Function">⊥-elim</a> <a id="14019" class="Symbol">(</a><a id="14020" href="https://agda.github.io/agda-stdlib/Relation.Nullary.Negation.html#560" class="Function">contradiction</a> <a id="14034" href="/DenotAdequate/#14006" class="Bound">af2</a> <a id="14038" class="Bound">naf2</a><a id="14042" class="Symbol">)</a>
<a id="14044" class="Symbol">...</a> <a id="14048" class="Symbol">|</a> <a id="14050" href="https://agda.github.io/agda-stdlib/Data.Sum.Base.html#500" class="InductiveConstructor">inj₂</a> <a id="14055" href="/DenotAdequate/#14055" class="Bound">af3</a> <a id="14059" class="Symbol">=</a> <a id="14061" href="https://agda.github.io/agda-stdlib/Data.Empty.html#360" class="Function">⊥-elim</a> <a id="14068" class="Symbol">(</a><a id="14069" href="https://agda.github.io/agda-stdlib/Relation.Nullary.Negation.html#560" class="Function">contradiction</a> <a id="14083" href="/DenotAdequate/#14055" class="Bound">af3</a> <a id="14087" class="Bound">naf3</a><a id="14091" class="Symbol">)</a></pre>

<ul>
  <li>
    <p>Case (Bot⊑). We immediately have 𝕍 ⊥ (clos (ƛ M) γ).</p>
  </li>
  <li>
    <p>Case (ConjL⊑).</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  v₁' ⊑ v     v₂' ⊑ v
  -------------------
  (v₁' ⊔ v₂') ⊑ v
</code></pre></div>    </div>

    <p>The induction hypotheses gives us 𝕍 v₁’ (clos (ƛ M) γ)
and 𝕍 v₂’ (clos (ƛ M) γ), which is all we need for this case.</p>
  </li>
  <li>
    <p>Case (ConjR1⊑).</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  v' ⊑ v₁
  -------------
  v' ⊑ (v₁ ⊔ v₂)
</code></pre></div>    </div>

    <p>The induction hypothesis gives us 𝕍 v’ (clos (ƛ M) γ).</p>
  </li>
  <li>
    <p>Case (ConjR2⊑).</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  v' ⊑ v₂
  -------------
  v' ⊑ (v₁ ⊔ v₂)
</code></pre></div>    </div>

    <p>Again, the induction hypothesis gives us 𝕍 v’ (clos (ƛ M) γ).</p>
  </li>
  <li>
    <p>Case (Trans⊑).</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  v' ⊑ v₂   v₂ ⊑ v
  -----------------
       v' ⊑ v
</code></pre></div>    </div>

    <p>The induction hypothesis for v₂ ⊑ v gives us
𝕍 v₂ (clos (ƛ M) γ). We apply the induction hypothesis
for v’ ⊑ v₂ to conclude that 𝕍 v’ (clos (ƛ M) γ).</p>
  </li>
  <li>
    <p>Case (Dist⊑). This case  is the most difficult. We have</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  𝕍 (v₁ ↦ v₂) (clos (ƛ M) γ)
  𝕍 (v₁ ↦ v₃) (clos (ƛ M) γ)
</code></pre></div>    </div>

    <p>and need to show that</p>

    <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  𝕍 (v₁ ↦ (v₂ ⊔ v₃)) (clos (ƛ M) γ)
</code></pre></div>    </div>

    <p>Let c be an arbtrary closure such that 𝔼 v₁ c.
Assume (v₂ ⊔ v₃) is greater than a function.
Unfortunately, this does not mean that both v₂ and v₃
are above functions. But thanks to the lemma AboveFun-⊔,
we know that at least one of them is greater than a function.</p>

    <ul>
      <li>
        <p>Suppose both of them are greater than a function.  Then we have
γ ⊢ M ⇓ clos N δ and 𝕍 v₂ (clos N δ).  We also have γ ⊢ M ⇓ c₃ and
𝕍 v₃ c₃.  Because the big-step semantics is deterministic, we have
c₃ ≡ clos N δ. Also, from 𝕍 v₂ (clos N δ) we know that N ≡ ƛ N’
for some N’. We conclude that 𝕍 (v₂ ⊔ v₃) (clos (ƛ N’) δ).</p>
      </li>
      <li>
        <p>Suppose one of them is greater than a function and the other is
not: say AboveFun v₂ and ¬ AboveFun v₃. Then from 𝕍 (v₁ ↦ v₂) (clos (ƛ M) γ)
we have γ ⊢ M ⇓ clos N γ₁ and 𝕍 v₂ (clos N γ₁). From this we have
N ≡ ƛ N’ for some N’. Meanwhile, from ¬ AboveFun v₃ we have
𝕍 v₃ (clos N γ₁). We conclude that We conclude that
𝕍 (v₂ ⊔ v₃) (clos (ƛ N’) γ₁).</p>
      </li>
    </ul>
  </li>
</ul>

<p>The proof of sub-𝔼 is direct.</p>

<pre class="Agda"><a id="16159" href="/DenotAdequate/#12133" class="Function">sub-𝔼</a> <a id="16165" class="Symbol">{</a><a id="16166" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="16171" href="/DenotAdequate/#16171" class="Bound">M</a> <a id="16173" href="/DenotAdequate/#16173" class="Bound">γ</a><a id="16174" class="Symbol">}</a> <a id="16176" class="Symbol">{</a><a id="16177" href="/DenotAdequate/#16177" class="Bound">v</a><a id="16178" class="Symbol">}</a> <a id="16180" class="Symbol">{</a><a id="16181" href="/DenotAdequate/#16181" class="Bound">v&#39;</a><a id="16183" class="Symbol">}</a> <a id="16185" href="/DenotAdequate/#16185" class="Bound">𝔼v</a> <a id="16188" href="/DenotAdequate/#16188" class="Bound">v&#39;⊑v</a> <a id="16193" href="/DenotAdequate/#16193" class="Bound">fv&#39;</a>
    <a id="16201" class="Keyword">with</a> <a id="16206" href="/DenotAdequate/#16185" class="Bound">𝔼v</a> <a id="16209" class="Symbol">(</a><a id="16210" href="/DenotAdequate/#2891" class="Function">AboveFun-⊑</a> <a id="16221" href="/DenotAdequate/#16193" class="Bound">fv&#39;</a> <a id="16225" href="/DenotAdequate/#16188" class="Bound">v&#39;⊑v</a><a id="16229" class="Symbol">)</a>
<a id="16231" class="Symbol">...</a> <a id="16235" class="Symbol">|</a> <a id="16237" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="16239" href="/DenotAdequate/#16239" class="Bound">c</a> <a id="16241" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="16243" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="16245" href="/DenotAdequate/#16245" class="Bound">M⇓c</a> <a id="16249" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="16251" href="/DenotAdequate/#16251" class="Bound">𝕍v</a> <a id="16254" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="16256" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="16258" class="Symbol">=</a>
      <a id="16266" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="16268" href="/DenotAdequate/#16239" class="Bound">c</a> <a id="16270" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="16272" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="16274" href="/DenotAdequate/#16245" class="Bound">M⇓c</a> <a id="16278" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="16280" href="/DenotAdequate/#12081" class="Function">sub-𝕍</a> <a id="16286" href="/DenotAdequate/#16251" class="Bound">𝕍v</a> <a id="16289" class="Bound">v&#39;⊑v</a> <a id="16294" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="16296" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a></pre>

<p>From AboveFun v’ and v’ ⊑ v we have AboveFun v.  Then with 𝔼 v c we
obtain a closure c such that γ ⊢ M ⇓ c and 𝕍 v c. We conclude with an
application of sub-𝕍 with v’ ⊑ v to show 𝕍 v’ c.</p>

<h2 id="programs-with-function-denotation-terminate-via-call-by-name">Programs with function denotation terminate via call-by-name</h2>

<p>The main lemma proves that if a term has a denotation that is above a
function, then it terminates via call-by-name. In more detail, if γ ⊢
M ↓ v and 𝔾 γ γ’, then 𝔼 v (clos M γ’). The proof is by induction on
the derivation of γ ⊢ M ↓ v we discuss each case below.</p>

<p>The following lemma, kth-x, is used in the case for the (var) rule.</p>

<pre class="Agda"><a id="kth-x"></a><a id="16912" href="/DenotAdequate/#16912" class="Function">kth-x</a> <a id="16918" class="Symbol">:</a> <a id="16920" class="Symbol">∀{</a><a id="16922" href="/DenotAdequate/#16922" class="Bound">Γ</a><a id="16923" class="Symbol">}{</a><a id="16925" href="/DenotAdequate/#16925" class="Bound">γ&#39;</a> <a id="16928" class="Symbol">:</a> <a id="16930" href="/DenotAdequate/#5746" class="Function">ClosEnv</a> <a id="16938" href="/DenotAdequate/#16922" class="Bound">Γ</a><a id="16939" class="Symbol">}{</a><a id="16941" href="/DenotAdequate/#16941" class="Bound">x</a> <a id="16943" class="Symbol">:</a> <a id="16945" href="/DenotAdequate/#16922" class="Bound">Γ</a> <a id="16947" href="/Untyped/#3365" class="Datatype Operator">∋</a> <a id="16949" href="/Untyped/#2694" class="InductiveConstructor">★</a><a id="16950" class="Symbol">}</a>
     <a id="16957" class="Symbol">→</a> <a id="16959" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">Σ[</a> <a id="16962" href="/DenotAdequate/#16962" class="Bound">Δ</a> <a id="16964" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">∈</a> <a id="16966" href="/Untyped/#2980" class="Datatype">Context</a> <a id="16974" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">]</a> <a id="16976" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">Σ[</a> <a id="16979" href="/DenotAdequate/#16979" class="Bound">δ</a> <a id="16981" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">∈</a> <a id="16983" href="/DenotAdequate/#5746" class="Function">ClosEnv</a> <a id="16991" href="/DenotAdequate/#16962" class="Bound">Δ</a> <a id="16993" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">]</a> <a id="16995" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">Σ[</a> <a id="16998" href="/DenotAdequate/#16998" class="Bound">M</a> <a id="17000" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">∈</a> <a id="17002" href="/DenotAdequate/#16962" class="Bound">Δ</a> <a id="17004" href="/Untyped/#4150" class="Datatype Operator">⊢</a> <a id="17006" href="/Untyped/#2694" class="InductiveConstructor">★</a> <a id="17008" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">]</a>
                 <a id="17027" href="/DenotAdequate/#16925" class="Bound">γ&#39;</a> <a id="17030" href="/DenotAdequate/#16941" class="Bound">x</a> <a id="17032" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#83" class="Datatype Operator">≡</a> <a id="17034" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="17039" href="/DenotAdequate/#16998" class="Bound">M</a> <a id="17041" href="/DenotAdequate/#16979" class="Bound">δ</a>
<a id="17043" href="/DenotAdequate/#16912" class="Function">kth-x</a><a id="17048" class="Symbol">{</a><a id="17049" class="Argument">γ&#39;</a> <a id="17052" class="Symbol">=</a> <a id="17054" href="/DenotAdequate/#17054" class="Bound">γ&#39;</a><a id="17056" class="Symbol">}{</a><a id="17058" class="Argument">x</a> <a id="17060" class="Symbol">=</a> <a id="17062" href="/DenotAdequate/#17062" class="Bound">x</a><a id="17063" class="Symbol">}</a> <a id="17065" class="Keyword">with</a> <a id="17070" href="/DenotAdequate/#17054" class="Bound">γ&#39;</a> <a id="17073" href="/DenotAdequate/#17062" class="Bound">x</a>
<a id="17075" class="Symbol">...</a> <a id="17079" class="Symbol">|</a> <a id="17081" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a><a id="17085" class="Symbol">{</a><a id="17086" class="Argument">Γ</a> <a id="17088" class="Symbol">=</a> <a id="17090" href="/DenotAdequate/#17090" class="Bound">Δ</a><a id="17091" class="Symbol">}</a> <a id="17093" href="/DenotAdequate/#17093" class="Bound">M</a> <a id="17095" href="/DenotAdequate/#17095" class="Bound">δ</a> <a id="17097" class="Symbol">=</a> <a id="17099" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="17101" href="/DenotAdequate/#17090" class="Bound">Δ</a> <a id="17103" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="17105" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="17107" href="/DenotAdequate/#17095" class="Bound">δ</a> <a id="17109" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="17111" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="17113" href="/DenotAdequate/#17093" class="Bound">M</a> <a id="17115" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="17117" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Equality.html#140" class="InductiveConstructor">refl</a> <a id="17122" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="17124" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="17126" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a></pre>

<pre class="Agda"><a id="↓→𝔼"></a><a id="17153" href="/DenotAdequate/#17153" class="Function">↓→𝔼</a> <a id="17157" class="Symbol">:</a> <a id="17159" class="Symbol">∀{</a><a id="17161" href="/DenotAdequate/#17161" class="Bound">Γ</a><a id="17162" class="Symbol">}{</a><a id="17164" href="/DenotAdequate/#17164" class="Bound">γ</a> <a id="17166" class="Symbol">:</a> <a id="17168" href="/Denot/#7488" class="Function">Env</a> <a id="17172" href="/DenotAdequate/#17161" class="Bound">Γ</a><a id="17173" class="Symbol">}{</a><a id="17175" href="/DenotAdequate/#17175" class="Bound">γ&#39;</a> <a id="17178" class="Symbol">:</a> <a id="17180" href="/DenotAdequate/#5746" class="Function">ClosEnv</a> <a id="17188" href="/DenotAdequate/#17161" class="Bound">Γ</a><a id="17189" class="Symbol">}{</a><a id="17191" href="/DenotAdequate/#17191" class="Bound">M</a> <a id="17193" class="Symbol">:</a> <a id="17195" href="/DenotAdequate/#17161" class="Bound">Γ</a> <a id="17197" href="/Untyped/#4150" class="Datatype Operator">⊢</a> <a id="17199" href="/Untyped/#2694" class="InductiveConstructor">★</a> <a id="17201" class="Symbol">}{</a><a id="17203" href="/DenotAdequate/#17203" class="Bound">v</a><a id="17204" class="Symbol">}</a>
            <a id="17218" class="Symbol">→</a> <a id="17220" href="/DenotAdequate/#10044" class="Function">𝔾</a> <a id="17222" href="/DenotAdequate/#17164" class="Bound">γ</a> <a id="17224" href="/DenotAdequate/#17175" class="Bound">γ&#39;</a> <a id="17227" class="Symbol">→</a> <a id="17229" href="/DenotAdequate/#17164" class="Bound">γ</a> <a id="17231" href="/Denot/#9991" class="Datatype Operator">⊢</a> <a id="17233" href="/DenotAdequate/#17191" class="Bound">M</a> <a id="17235" href="/Denot/#9991" class="Datatype Operator">↓</a> <a id="17237" href="/DenotAdequate/#17203" class="Bound">v</a> <a id="17239" class="Symbol">→</a> <a id="17241" href="/DenotAdequate/#8333" class="Function">𝔼</a> <a id="17243" href="/DenotAdequate/#17203" class="Bound">v</a> <a id="17245" class="Symbol">(</a><a id="17246" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="17251" href="/DenotAdequate/#17191" class="Bound">M</a> <a id="17253" href="/DenotAdequate/#17175" class="Bound">γ&#39;</a><a id="17255" class="Symbol">)</a>
<a id="17257" href="/DenotAdequate/#17153" class="Function">↓→𝔼</a> <a id="17261" class="Symbol">{</a><a id="17262" href="/DenotAdequate/#17262" class="Bound">Γ</a><a id="17263" class="Symbol">}</a> <a id="17265" class="Symbol">{</a><a id="17266" href="/DenotAdequate/#17266" class="Bound">γ</a><a id="17267" class="Symbol">}</a> <a id="17269" class="Symbol">{</a><a id="17270" href="/DenotAdequate/#17270" class="Bound">γ&#39;</a><a id="17272" class="Symbol">}</a> <a id="17274" class="Symbol">{</a><a id="17275" href="/Untyped/#4186" class="InductiveConstructor Operator">`_</a> <a id="17278" href="/DenotAdequate/#17278" class="Bound">x</a><a id="17279" class="Symbol">}</a> <a id="17281" class="Symbol">{</a><a id="17282" href="/DenotAdequate/#17282" class="Bound">v</a><a id="17283" class="Symbol">}</a> <a id="17285" href="/DenotAdequate/#17285" class="Bound">𝔾γγ&#39;</a> <a id="17290" href="/Denot/#10045" class="InductiveConstructor">var</a> <a id="17294" href="/DenotAdequate/#17294" class="Bound">fγx</a>
    <a id="17302" class="Keyword">with</a> <a id="17307" href="/DenotAdequate/#16912" class="Function">kth-x</a><a id="17312" class="Symbol">{</a><a id="17313" href="/DenotAdequate/#17262" class="Bound">Γ</a><a id="17314" class="Symbol">}{</a><a id="17316" href="/DenotAdequate/#17270" class="Bound">γ&#39;</a><a id="17318" class="Symbol">}{</a><a id="17320" href="/DenotAdequate/#17278" class="Bound">x</a><a id="17321" class="Symbol">}</a> <a id="17323" class="Symbol">|</a> <a id="17325" href="/DenotAdequate/#17285" class="Bound">𝔾γγ&#39;</a><a id="17329" class="Symbol">{</a><a id="17330" class="Argument">x</a> <a id="17332" class="Symbol">=</a> <a id="17334" href="/DenotAdequate/#17278" class="Bound">x</a><a id="17335" class="Symbol">}</a>
<a id="17337" class="Symbol">...</a> <a id="17341" class="Symbol">|</a> <a id="17343" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="17345" href="/DenotAdequate/#17345" class="Bound">Δ</a> <a id="17347" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="17349" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="17351" href="/DenotAdequate/#17351" class="Bound">δ</a> <a id="17353" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="17355" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="17357" href="/DenotAdequate/#17357" class="Bound">L</a> <a id="17359" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="17361" href="/DenotAdequate/#17361" class="Bound">eq</a> <a id="17364" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="17366" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="17368" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="17370" class="Symbol">|</a> <a id="17372" href="/DenotAdequate/#17372" class="Bound">𝔾γγ&#39;x</a> <a id="17378" class="Keyword">rewrite</a> <a id="17386" href="/DenotAdequate/#17361" class="Bound">eq</a>
    <a id="17393" class="Keyword">with</a> <a id="17398" href="/DenotAdequate/#17372" class="Bound">𝔾γγ&#39;x</a> <a id="17404" class="Bound">fγx</a>
<a id="17408" class="Symbol">...</a> <a id="17412" class="Symbol">|</a> <a id="17414" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="17416" href="/DenotAdequate/#17416" class="Bound">c</a> <a id="17418" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="17420" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="17422" href="/DenotAdequate/#17422" class="Bound">L⇓c</a> <a id="17426" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="17428" href="/DenotAdequate/#17428" class="Bound">𝕍γx</a> <a id="17432" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="17434" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="17436" class="Symbol">=</a>
      <a id="17444" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="17446" href="/DenotAdequate/#17416" class="Bound">c</a> <a id="17448" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="17450" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="17452" class="Symbol">(</a><a id="17453" href="/DenotAdequate/#6264" class="InductiveConstructor">⇓-var</a> <a id="17459" class="Bound">eq</a> <a id="17462" href="/DenotAdequate/#17422" class="Bound">L⇓c</a><a id="17465" class="Symbol">)</a> <a id="17467" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="17469" href="/DenotAdequate/#17428" class="Bound">𝕍γx</a> <a id="17473" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="17475" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>
<a id="17477" href="/DenotAdequate/#17153" class="Function">↓→𝔼</a> <a id="17481" class="Symbol">{</a><a id="17482" href="/DenotAdequate/#17482" class="Bound">Γ</a><a id="17483" class="Symbol">}</a> <a id="17485" class="Symbol">{</a><a id="17486" href="/DenotAdequate/#17486" class="Bound">γ</a><a id="17487" class="Symbol">}</a> <a id="17489" class="Symbol">{</a><a id="17490" href="/DenotAdequate/#17490" class="Bound">γ&#39;</a><a id="17492" class="Symbol">}</a> <a id="17494" class="Symbol">{</a><a id="17495" href="/DenotAdequate/#17495" class="Bound">L</a> <a id="17497" href="/Untyped/#4298" class="InductiveConstructor Operator">·</a> <a id="17499" href="/DenotAdequate/#17499" class="Bound">M</a><a id="17500" class="Symbol">}</a> <a id="17502" class="Symbol">{</a><a id="17503" href="/DenotAdequate/#17503" class="Bound">v</a><a id="17504" class="Symbol">}</a> <a id="17506" href="/DenotAdequate/#17506" class="Bound">𝔾γγ&#39;</a> <a id="17511" class="Symbol">(</a><a id="17512" href="/Denot/#10128" class="InductiveConstructor">↦-elim</a><a id="17518" class="Symbol">{</a><a id="17519" class="Argument">v₁</a> <a id="17522" class="Symbol">=</a> <a id="17524" href="/DenotAdequate/#17524" class="Bound">v₁</a><a id="17526" class="Symbol">}</a> <a id="17528" href="/DenotAdequate/#17528" class="Bound">d₁</a> <a id="17531" href="/DenotAdequate/#17531" class="Bound">d₂</a><a id="17533" class="Symbol">)</a> <a id="17535" href="/DenotAdequate/#17535" class="Bound">fv</a>
    <a id="17542" class="Keyword">with</a> <a id="17547" href="/DenotAdequate/#17153" class="Function">↓→𝔼</a> <a id="17551" href="/DenotAdequate/#17506" class="Bound">𝔾γγ&#39;</a> <a id="17556" href="/DenotAdequate/#17528" class="Bound">d₁</a> <a id="17559" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="17561" href="/DenotAdequate/#17524" class="Bound">v₁</a> <a id="17564" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="17566" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="17568" href="/DenotAdequate/#17503" class="Bound">v</a> <a id="17570" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="17572" href="/Denot/#5698" class="Function">Refl⊑</a> <a id="17578" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="17580" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>
<a id="17582" class="Symbol">...</a> <a id="17586" class="Symbol">|</a> <a id="17588" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="17590" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="17595" href="/DenotAdequate/#17595" class="Bound">L&#39;</a> <a id="17598" href="/DenotAdequate/#17598" class="Bound">δ</a> <a id="17600" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="17602" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="17604" href="/DenotAdequate/#17604" class="Bound">L⇓L&#39;</a> <a id="17609" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="17611" href="/DenotAdequate/#17611" class="Bound">𝕍v₁↦v</a> <a id="17617" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="17619" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> 
    <a id="17626" class="Keyword">with</a> <a id="17631" href="/DenotAdequate/#10655" class="Function">𝕍→WHNF</a> <a id="17638" href="/DenotAdequate/#17611" class="Bound">𝕍v₁↦v</a>
<a id="17644" class="Symbol">...</a> <a id="17648" class="Symbol">|</a> <a id="17650" href="/DenotAdequate/#10532" class="InductiveConstructor Operator">ƛ_</a> <a id="17653" class="Symbol">{</a><a id="17654" class="Argument">N</a> <a id="17656" class="Symbol">=</a> <a id="17658" href="/DenotAdequate/#17658" class="Bound">L&#39;&#39;</a><a id="17661" class="Symbol">}</a> 
    <a id="17668" class="Keyword">with</a> <a id="17673" class="Bound">𝕍v₁↦v</a> <a id="17679" class="Symbol">{</a><a id="17680" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="17685" class="Bound">M</a> <a id="17687" class="Bound">γ&#39;</a><a id="17689" class="Symbol">}</a> <a id="17691" class="Symbol">(</a><a id="17692" href="/DenotAdequate/#17153" class="Function">↓→𝔼</a> <a id="17696" class="Bound">𝔾γγ&#39;</a> <a id="17701" class="Bound">d₂</a><a id="17703" class="Symbol">)</a> <a id="17705" class="Bound">fv</a>
<a id="17708" class="Symbol">...</a> <a id="17712" class="Symbol">|</a> <a id="17714" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="17716" href="/DenotAdequate/#17716" class="Bound">c&#39;</a> <a id="17719" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="17721" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="17723" href="/DenotAdequate/#17723" class="Bound">L&#39;&#39;⇓c&#39;</a> <a id="17730" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="17732" href="/DenotAdequate/#17732" class="Bound">𝕍v</a> <a id="17735" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="17737" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="17739" class="Symbol">=</a>
    <a id="17745" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="17747" href="/DenotAdequate/#17716" class="Bound">c&#39;</a> <a id="17750" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="17752" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="17754" href="/DenotAdequate/#6506" class="InductiveConstructor">⇓-app</a> <a id="17760" class="Bound">L⇓L&#39;</a> <a id="17765" href="/DenotAdequate/#17723" class="Bound">L&#39;&#39;⇓c&#39;</a> <a id="17772" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="17774" href="/DenotAdequate/#17732" class="Bound">𝕍v</a> <a id="17777" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="17779" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>
<a id="17781" href="/DenotAdequate/#17153" class="Function">↓→𝔼</a> <a id="17785" class="Symbol">{</a><a id="17786" href="/DenotAdequate/#17786" class="Bound">Γ</a><a id="17787" class="Symbol">}</a> <a id="17789" class="Symbol">{</a><a id="17790" href="/DenotAdequate/#17790" class="Bound">γ</a><a id="17791" class="Symbol">}</a> <a id="17793" class="Symbol">{</a><a id="17794" href="/DenotAdequate/#17794" class="Bound">γ&#39;</a><a id="17796" class="Symbol">}</a> <a id="17798" class="Symbol">{</a><a id="17799" href="/Untyped/#4238" class="InductiveConstructor Operator">ƛ</a> <a id="17801" href="/DenotAdequate/#17801" class="Bound">M</a><a id="17802" class="Symbol">}</a> <a id="17804" class="Symbol">{</a><a id="17805" href="/DenotAdequate/#17805" class="Bound">v</a> <a id="17807" href="/Denot/#4133" class="InductiveConstructor Operator">↦</a> <a id="17809" href="/DenotAdequate/#17809" class="Bound">v&#39;</a><a id="17811" class="Symbol">}</a> <a id="17813" href="/DenotAdequate/#17813" class="Bound">𝔾γγ&#39;</a> <a id="17818" class="Symbol">(</a><a id="17819" href="/Denot/#10281" class="InductiveConstructor">↦-intro</a> <a id="17827" href="/DenotAdequate/#17827" class="Bound">d</a><a id="17828" class="Symbol">)</a> <a id="17830" href="/DenotAdequate/#17830" class="Bound">fv↦v&#39;</a> <a id="17836" class="Symbol">=</a>
    <a id="17842" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="17844" class="Symbol">(</a><a id="17845" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="17850" class="Symbol">(</a><a id="17851" href="/Untyped/#4238" class="InductiveConstructor Operator">ƛ</a> <a id="17853" href="/DenotAdequate/#17801" class="Bound">M</a><a id="17854" class="Symbol">)</a> <a id="17856" href="/DenotAdequate/#17794" class="Bound">γ&#39;</a><a id="17858" class="Symbol">)</a> <a id="17860" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="17862" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="17864" href="/DenotAdequate/#6427" class="InductiveConstructor">⇓-lam</a> <a id="17870" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="17872" href="/DenotAdequate/#17888" class="Function">E</a> <a id="17874" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="17876" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>
    <a id="17882" class="Keyword">where</a> <a id="17888" href="/DenotAdequate/#17888" class="Function">E</a> <a id="17890" class="Symbol">:</a> <a id="17892" class="Symbol">{</a><a id="17893" href="/DenotAdequate/#17893" class="Bound">c</a> <a id="17895" class="Symbol">:</a> <a id="17897" href="/DenotAdequate/#5776" class="Datatype">Clos</a><a id="17901" class="Symbol">}</a> <a id="17903" class="Symbol">→</a> <a id="17905" href="/DenotAdequate/#8333" class="Function">𝔼</a> <a id="17907" href="/DenotAdequate/#17805" class="Bound">v</a> <a id="17909" href="/DenotAdequate/#17893" class="Bound">c</a> <a id="17911" class="Symbol">→</a> <a id="17913" href="/DenotAdequate/#2706" class="Function">AboveFun</a> <a id="17922" href="/DenotAdequate/#17809" class="Bound">v&#39;</a>
            <a id="17937" class="Symbol">→</a> <a id="17939" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">Σ[</a> <a id="17942" href="/DenotAdequate/#17942" class="Bound">c&#39;</a> <a id="17945" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">∈</a> <a id="17947" href="/DenotAdequate/#5776" class="Datatype">Clos</a> <a id="17952" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">]</a> <a id="17954" class="Symbol">(</a><a id="17955" href="/DenotAdequate/#17794" class="Bound">γ&#39;</a> <a id="17958" href="/DenotAdequate/#5996" class="Function Operator">,&#39;</a> <a id="17961" href="/DenotAdequate/#17893" class="Bound">c</a><a id="17962" class="Symbol">)</a> <a id="17964" href="/DenotAdequate/#6207" class="Datatype Operator">⊢</a> <a id="17966" href="/DenotAdequate/#17801" class="Bound">M</a> <a id="17968" href="/DenotAdequate/#6207" class="Datatype Operator">⇓</a> <a id="17970" href="/DenotAdequate/#17942" class="Bound">c&#39;</a>  <a id="17974" href="https://agda.github.io/agda-stdlib/Data.Product.html#1353" class="Function Operator">×</a>  <a id="17977" href="/DenotAdequate/#8310" class="Function">𝕍</a> <a id="17979" href="/DenotAdequate/#17809" class="Bound">v&#39;</a> <a id="17982" href="/DenotAdequate/#17942" class="Bound">c&#39;</a>
          <a id="17995" href="/DenotAdequate/#17888" class="Function">E</a> <a id="17997" class="Symbol">{</a><a id="17998" href="/DenotAdequate/#17998" class="Bound">c</a><a id="17999" class="Symbol">}</a> <a id="18001" href="/DenotAdequate/#18001" class="Bound">𝔼vc</a> <a id="18005" href="/DenotAdequate/#18005" class="Bound">fv&#39;</a> <a id="18009" class="Symbol">=</a> <a id="18011" href="/DenotAdequate/#17153" class="Function">↓→𝔼</a> <a id="18015" class="Symbol">(λ</a> <a id="18018" class="Symbol">{</a><a id="18019" href="/DenotAdequate/#18019" class="Bound">x</a><a id="18020" class="Symbol">}</a> <a id="18022" class="Symbol">→</a> <a id="18024" href="/DenotAdequate/#10147" class="Function">𝔾-ext</a><a id="18029" class="Symbol">{</a><a id="18030" href="/DenotAdequate/#17786" class="Bound">Γ</a><a id="18031" class="Symbol">}{</a><a id="18033" href="/DenotAdequate/#17790" class="Bound">γ</a><a id="18034" class="Symbol">}{</a><a id="18036" href="/DenotAdequate/#17794" class="Bound">γ&#39;</a><a id="18038" class="Symbol">}</a> <a id="18040" href="/DenotAdequate/#17813" class="Bound">𝔾γγ&#39;</a> <a id="18045" href="/DenotAdequate/#18001" class="Bound">𝔼vc</a> <a id="18049" class="Symbol">{</a><a id="18050" href="/DenotAdequate/#18019" class="Bound">x</a><a id="18051" class="Symbol">})</a> <a id="18054" href="/DenotAdequate/#17827" class="Bound">d</a> <a id="18056" href="/DenotAdequate/#18005" class="Bound">fv&#39;</a>
<a id="18060" href="/DenotAdequate/#17153" class="CatchallClause Function">↓→𝔼</a><a id="18063" class="CatchallClause"> </a><a id="18064" class="CatchallClause Symbol">{</a><a id="18065" href="/DenotAdequate/#18065" class="CatchallClause Bound">Γ</a><a id="18066" class="CatchallClause Symbol">}</a><a id="18067" class="CatchallClause"> </a><a id="18068" class="CatchallClause Symbol">{</a><a id="18069" href="/DenotAdequate/#18069" class="CatchallClause Bound">γ</a><a id="18070" class="CatchallClause Symbol">}</a><a id="18071" class="CatchallClause"> </a><a id="18072" class="CatchallClause Symbol">{</a><a id="18073" href="/DenotAdequate/#18073" class="CatchallClause Bound">γ&#39;</a><a id="18075" class="CatchallClause Symbol">}</a><a id="18076" class="CatchallClause"> </a><a id="18077" class="CatchallClause Symbol">{</a><a id="18078" href="/DenotAdequate/#18078" class="CatchallClause Bound">M</a><a id="18079" class="CatchallClause Symbol">}</a><a id="18080" class="CatchallClause"> </a><a id="18081" class="CatchallClause Symbol">{</a><a id="18082" href="/Denot/#4121" class="CatchallClause InductiveConstructor">⊥</a><a id="18083" class="CatchallClause Symbol">}</a><a id="18084" class="CatchallClause"> </a><a id="18085" href="/DenotAdequate/#18085" class="CatchallClause Bound">𝔾γγ&#39;</a><a id="18089" class="CatchallClause"> </a><a id="18090" href="/Denot/#10413" class="CatchallClause InductiveConstructor">⊥-intro</a><a id="18097" class="CatchallClause"> </a><a id="18098" href="/DenotAdequate/#18098" class="CatchallClause Bound">f⊥</a> <a id="18101" class="Symbol">=</a> <a id="18103" href="https://agda.github.io/agda-stdlib/Data.Empty.html#360" class="Function">⊥-elim</a> <a id="18110" class="Symbol">(</a><a id="18111" href="/DenotAdequate/#3143" class="Function">AboveFun⊥</a> <a id="18121" href="/DenotAdequate/#18098" class="Bound">f⊥</a><a id="18123" class="Symbol">)</a>
<a id="18125" href="/DenotAdequate/#17153" class="CatchallClause Function">↓→𝔼</a><a id="18128" class="CatchallClause"> </a><a id="18129" class="CatchallClause Symbol">{</a><a id="18130" href="/DenotAdequate/#18130" class="CatchallClause Bound">Γ</a><a id="18131" class="CatchallClause Symbol">}</a><a id="18132" class="CatchallClause"> </a><a id="18133" class="CatchallClause Symbol">{</a><a id="18134" href="/DenotAdequate/#18134" class="CatchallClause Bound">γ</a><a id="18135" class="CatchallClause Symbol">}</a><a id="18136" class="CatchallClause"> </a><a id="18137" class="CatchallClause Symbol">{</a><a id="18138" href="/DenotAdequate/#18138" class="CatchallClause Bound">γ&#39;</a><a id="18140" class="CatchallClause Symbol">}</a><a id="18141" class="CatchallClause"> </a><a id="18142" class="CatchallClause Symbol">{</a><a id="18143" href="/DenotAdequate/#18143" class="CatchallClause Bound">M</a><a id="18144" class="CatchallClause Symbol">}</a><a id="18145" class="CatchallClause"> </a><a id="18146" class="CatchallClause Symbol">{</a><a id="18147" href="/DenotAdequate/#18147" class="CatchallClause Bound">v₁</a><a id="18149" class="CatchallClause"> </a><a id="18150" href="/Denot/#4163" class="CatchallClause InductiveConstructor Operator">⊔</a><a id="18151" class="CatchallClause"> </a><a id="18152" href="/DenotAdequate/#18152" class="CatchallClause Bound">v₂</a><a id="18154" class="CatchallClause Symbol">}</a><a id="18155" class="CatchallClause"> </a><a id="18156" href="/DenotAdequate/#18156" class="CatchallClause Bound">𝔾γγ&#39;</a><a id="18160" class="CatchallClause"> </a><a id="18161" class="CatchallClause Symbol">(</a><a id="18162" href="/Denot/#10488" class="CatchallClause InductiveConstructor">⊔-intro</a><a id="18169" class="CatchallClause"> </a><a id="18170" href="/DenotAdequate/#18170" class="CatchallClause Bound">d₁</a><a id="18172" class="CatchallClause"> </a><a id="18173" href="/DenotAdequate/#18173" class="CatchallClause Bound">d₂</a><a id="18175" class="CatchallClause Symbol">)</a><a id="18176" class="CatchallClause"> </a><a id="18177" href="/DenotAdequate/#18177" class="CatchallClause Bound">fv12</a>
    <a id="18186" class="Keyword">with</a> <a id="18191" href="/DenotAdequate/#4970" class="Function">AboveFun?</a> <a id="18201" href="/DenotAdequate/#18147" class="Bound">v₁</a> <a id="18204" class="Symbol">|</a> <a id="18206" href="/DenotAdequate/#4970" class="Function">AboveFun?</a> <a id="18216" href="/DenotAdequate/#18152" class="Bound">v₂</a>
<a id="18219" class="Symbol">...</a> <a id="18223" class="Symbol">|</a> <a id="18225" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="18229" href="/DenotAdequate/#18229" class="Bound">fv1</a> <a id="18233" class="Symbol">|</a> <a id="18235" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="18239" href="/DenotAdequate/#18239" class="Bound">fv2</a>
    <a id="18247" class="Keyword">with</a> <a id="18252" href="/DenotAdequate/#17153" class="Function">↓→𝔼</a> <a id="18256" class="Bound">𝔾γγ&#39;</a> <a id="18261" class="Bound">d₁</a> <a id="18264" href="/DenotAdequate/#18229" class="Bound">fv1</a> <a id="18268" class="Symbol">|</a> <a id="18270" href="/DenotAdequate/#17153" class="Function">↓→𝔼</a> <a id="18274" class="Bound">𝔾γγ&#39;</a> <a id="18279" class="Bound">d₂</a> <a id="18282" href="/DenotAdequate/#18239" class="Bound">fv2</a> 
<a id="18287" class="Symbol">...</a> <a id="18291" class="Symbol">|</a> <a id="18293" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="18295" href="/DenotAdequate/#18295" class="Bound">c₁</a> <a id="18298" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="18300" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="18302" href="/DenotAdequate/#18302" class="Bound">M⇓c₁</a> <a id="18307" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="18309" href="/DenotAdequate/#18309" class="Bound">𝕍v₁</a> <a id="18313" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="18315" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="18317" class="Symbol">|</a> <a id="18319" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="18321" href="/DenotAdequate/#18321" class="Bound">c₂</a> <a id="18324" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="18326" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="18328" href="/DenotAdequate/#18328" class="Bound">M⇓c₂</a> <a id="18333" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="18335" href="/DenotAdequate/#18335" class="Bound">𝕍v₂</a> <a id="18339" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="18341" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>
    <a id="18347" class="Keyword">rewrite</a> <a id="18355" href="/DenotAdequate/#7508" class="Function">⇓-determ</a> <a id="18364" href="/DenotAdequate/#18328" class="Bound">M⇓c₂</a> <a id="18369" href="/DenotAdequate/#18302" class="Bound">M⇓c₁</a> <a id="18374" class="Symbol">=</a>
    <a id="18380" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="18382" href="/DenotAdequate/#18295" class="Bound">c₁</a> <a id="18385" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="18387" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="18389" href="/DenotAdequate/#18302" class="Bound">M⇓c₁</a> <a id="18394" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="18396" href="/DenotAdequate/#10979" class="Function">𝕍⊔-intro</a> <a id="18405" href="/DenotAdequate/#18309" class="Bound">𝕍v₁</a> <a id="18409" href="/DenotAdequate/#18335" class="Bound">𝕍v₂</a> <a id="18413" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="18415" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>
<a id="18417" href="/DenotAdequate/#17153" class="Function">↓→𝔼</a> <a id="18421" href="/DenotAdequate/#18421" class="Bound">𝔾γγ&#39;</a> <a id="18426" class="Symbol">(</a><a id="18427" href="/Denot/#10488" class="InductiveConstructor">⊔-intro</a><a id="18434" class="Symbol">{</a><a id="18435" class="Argument">v₁</a> <a id="18438" class="Symbol">=</a> <a id="18440" href="/DenotAdequate/#18440" class="Bound">v₁</a><a id="18442" class="Symbol">}{</a><a id="18444" class="Argument">v₂</a> <a id="18447" class="Symbol">=</a> <a id="18449" href="/DenotAdequate/#18449" class="Bound">v₂</a><a id="18451" class="Symbol">}</a> <a id="18453" href="/DenotAdequate/#18453" class="Bound">d₁</a> <a id="18456" href="/DenotAdequate/#18456" class="Bound">d₂</a><a id="18458" class="Symbol">)</a> <a id="18460" href="/DenotAdequate/#18460" class="Bound">fv12</a> <a id="18465" class="Symbol">|</a> <a id="18467" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="18471" href="/DenotAdequate/#18471" class="Bound">fv1</a> <a id="18475" class="Symbol">|</a> <a id="18477" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="18480" href="/DenotAdequate/#18480" class="Bound">nfv2</a>
    <a id="18489" class="Keyword">with</a> <a id="18494" href="/DenotAdequate/#17153" class="Function">↓→𝔼</a> <a id="18498" href="/DenotAdequate/#18421" class="Bound">𝔾γγ&#39;</a> <a id="18503" href="/DenotAdequate/#18453" class="Bound">d₁</a> <a id="18506" href="/DenotAdequate/#18471" class="Bound">fv1</a> 
<a id="18511" class="Symbol">...</a> <a id="18515" class="Symbol">|</a> <a id="18517" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="18519" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="18524" class="Symbol">{</a><a id="18525" href="/DenotAdequate/#18525" class="Bound">Γ&#39;</a><a id="18527" class="Symbol">}</a> <a id="18529" href="/DenotAdequate/#18529" class="Bound">M&#39;</a> <a id="18532" href="/DenotAdequate/#18532" class="Bound">γ₁</a> <a id="18535" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="18537" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="18539" href="/DenotAdequate/#18539" class="Bound">M⇓c₁</a> <a id="18544" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="18546" href="/DenotAdequate/#18546" class="Bound">𝕍v₁</a> <a id="18550" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="18552" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>
    <a id="18558" class="Keyword">with</a> <a id="18563" href="/DenotAdequate/#10655" class="Function">𝕍→WHNF</a> <a id="18570" href="/DenotAdequate/#18546" class="Bound">𝕍v₁</a>
<a id="18574" class="Symbol">...</a> <a id="18578" class="Symbol">|</a> <a id="18580" href="/DenotAdequate/#10532" class="InductiveConstructor Operator">ƛ_</a> <a id="18583" class="Symbol">{</a><a id="18584" class="Argument">N</a> <a id="18586" class="Symbol">=</a> <a id="18588" href="/DenotAdequate/#18588" class="Bound">M&#39;&#39;</a><a id="18591" class="Symbol">}</a> <a id="18593" class="Symbol">=</a>
    <a id="18599" class="Keyword">let</a> <a id="18603" href="/DenotAdequate/#18603" class="Bound">𝕍v₂</a> <a id="18607" class="Symbol">=</a> <a id="18609" href="/DenotAdequate/#11642" class="Function">not-AboveFun-𝕍</a><a id="18623" class="Symbol">{</a><a id="18624" class="Bound">v₂</a><a id="18626" class="Symbol">}{</a><a id="18628" class="Bound">Γ&#39;</a><a id="18630" class="Symbol">}{</a><a id="18632" class="Bound">γ₁</a><a id="18634" class="Symbol">}{</a><a id="18636" href="/DenotAdequate/#18588" class="Bound">M&#39;&#39;</a><a id="18639" class="Symbol">}</a> <a id="18641" class="Bound">nfv2</a> <a id="18646" class="Keyword">in</a>
    <a id="18653" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="18655" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="18660" class="Symbol">(</a><a id="18661" href="/Untyped/#4238" class="InductiveConstructor Operator">ƛ</a> <a id="18663" href="/DenotAdequate/#18588" class="Bound">M&#39;&#39;</a><a id="18666" class="Symbol">)</a> <a id="18668" class="Bound">γ₁</a> <a id="18671" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="18673" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="18675" class="Bound">M⇓c₁</a> <a id="18680" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="18682" href="/DenotAdequate/#10979" class="Function">𝕍⊔-intro</a> <a id="18691" class="Bound">𝕍v₁</a> <a id="18695" href="/DenotAdequate/#18603" class="Bound">𝕍v₂</a> <a id="18699" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="18701" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>
<a id="18703" href="/DenotAdequate/#17153" class="Function">↓→𝔼</a> <a id="18707" href="/DenotAdequate/#18707" class="Bound">𝔾γγ&#39;</a> <a id="18712" class="Symbol">(</a><a id="18713" href="/Denot/#10488" class="InductiveConstructor">⊔-intro</a><a id="18720" class="Symbol">{</a><a id="18721" class="Argument">v₁</a> <a id="18724" class="Symbol">=</a> <a id="18726" href="/DenotAdequate/#18726" class="Bound">v₁</a><a id="18728" class="Symbol">}{</a><a id="18730" class="Argument">v₂</a> <a id="18733" class="Symbol">=</a> <a id="18735" href="/DenotAdequate/#18735" class="Bound">v₂</a><a id="18737" class="Symbol">}</a> <a id="18739" href="/DenotAdequate/#18739" class="Bound">d₁</a> <a id="18742" href="/DenotAdequate/#18742" class="Bound">d₂</a><a id="18744" class="Symbol">)</a> <a id="18746" href="/DenotAdequate/#18746" class="Bound">fv12</a> <a id="18751" class="Symbol">|</a> <a id="18753" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="18756" href="/DenotAdequate/#18756" class="Bound">nfv1</a>  <a id="18762" class="Symbol">|</a> <a id="18764" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#570" class="InductiveConstructor">yes</a> <a id="18768" href="/DenotAdequate/#18768" class="Bound">fv2</a>
    <a id="18776" class="Keyword">with</a> <a id="18781" href="/DenotAdequate/#17153" class="Function">↓→𝔼</a> <a id="18785" href="/DenotAdequate/#18707" class="Bound">𝔾γγ&#39;</a> <a id="18790" href="/DenotAdequate/#18742" class="Bound">d₂</a> <a id="18793" href="/DenotAdequate/#18768" class="Bound">fv2</a>
<a id="18797" class="Symbol">...</a> <a id="18801" class="Symbol">|</a> <a id="18803" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="18805" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="18810" class="Symbol">{</a><a id="18811" href="/DenotAdequate/#18811" class="Bound">Γ&#39;</a><a id="18813" class="Symbol">}</a> <a id="18815" href="/DenotAdequate/#18815" class="Bound">M&#39;</a> <a id="18818" href="/DenotAdequate/#18818" class="Bound">γ₁</a> <a id="18821" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="18823" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="18825" href="/DenotAdequate/#18825" class="Bound">M⇓c₂</a> <a id="18830" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="18832" href="/DenotAdequate/#18832" class="Bound">𝕍2c</a> <a id="18836" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="18838" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>
    <a id="18844" class="Keyword">with</a> <a id="18849" href="/DenotAdequate/#10655" class="Function">𝕍→WHNF</a> <a id="18856" href="/DenotAdequate/#18832" class="Bound">𝕍2c</a>
<a id="18860" class="Symbol">...</a> <a id="18864" class="Symbol">|</a> <a id="18866" href="/DenotAdequate/#10532" class="InductiveConstructor Operator">ƛ_</a> <a id="18869" class="Symbol">{</a><a id="18870" class="Argument">N</a> <a id="18872" class="Symbol">=</a> <a id="18874" href="/DenotAdequate/#18874" class="Bound">M</a><a id="18875" class="Symbol">}</a> <a id="18877" class="Symbol">=</a>
    <a id="18883" class="Keyword">let</a> <a id="18887" href="/DenotAdequate/#18887" class="Bound">𝕍1c</a> <a id="18891" class="Symbol">=</a> <a id="18893" href="/DenotAdequate/#11642" class="Function">not-AboveFun-𝕍</a><a id="18907" class="Symbol">{</a><a id="18908" class="Bound">v₁</a><a id="18910" class="Symbol">}{</a><a id="18912" class="Bound">Γ&#39;</a><a id="18914" class="Symbol">}{</a><a id="18916" class="Bound">γ₁</a><a id="18918" class="Symbol">}{</a><a id="18920" href="/DenotAdequate/#18874" class="Bound">M</a><a id="18921" class="Symbol">}</a> <a id="18923" class="Bound">nfv1</a> <a id="18928" class="Keyword">in</a>
    <a id="18935" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="18937" href="/DenotAdequate/#5795" class="InductiveConstructor">clos</a> <a id="18942" class="Symbol">(</a><a id="18943" href="/Untyped/#4238" class="InductiveConstructor Operator">ƛ</a> <a id="18945" href="/DenotAdequate/#18874" class="Bound">M</a><a id="18946" class="Symbol">)</a> <a id="18948" class="Bound">γ₁</a> <a id="18951" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="18953" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="18955" class="Bound">M⇓c₂</a> <a id="18960" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="18962" href="/DenotAdequate/#10979" class="Function">𝕍⊔-intro</a> <a id="18971" href="/DenotAdequate/#18887" class="Bound">𝕍1c</a> <a id="18975" class="Bound">𝕍2c</a> <a id="18979" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="18981" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>
<a id="18983" href="/DenotAdequate/#17153" class="Function">↓→𝔼</a> <a id="18987" href="/DenotAdequate/#18987" class="Bound">𝔾γγ&#39;</a> <a id="18992" class="Symbol">(</a><a id="18993" href="/Denot/#10488" class="InductiveConstructor">⊔-intro</a> <a id="19001" href="/DenotAdequate/#19001" class="Bound">d₁</a> <a id="19004" href="/DenotAdequate/#19004" class="Bound">d₂</a><a id="19006" class="Symbol">)</a> <a id="19008" href="/DenotAdequate/#19008" class="Bound">fv12</a> <a id="19013" class="Symbol">|</a> <a id="19015" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="19018" href="/DenotAdequate/#19018" class="Bound">nfv1</a>  <a id="19024" class="Symbol">|</a> <a id="19026" href="https://agda.github.io/agda-stdlib/Relation.Nullary.html#597" class="InductiveConstructor">no</a> <a id="19029" href="/DenotAdequate/#19029" class="Bound">nfv2</a>
    <a id="19038" class="Keyword">with</a> <a id="19043" href="/DenotAdequate/#3458" class="Function">AboveFun-⊔</a> <a id="19054" href="/DenotAdequate/#19008" class="Bound">fv12</a>
<a id="19059" class="Symbol">...</a> <a id="19063" class="Symbol">|</a> <a id="19065" href="https://agda.github.io/agda-stdlib/Data.Sum.Base.html#475" class="InductiveConstructor">inj₁</a> <a id="19070" href="/DenotAdequate/#19070" class="Bound">fv1</a> <a id="19074" class="Symbol">=</a> <a id="19076" href="https://agda.github.io/agda-stdlib/Data.Empty.html#360" class="Function">⊥-elim</a> <a id="19083" class="Symbol">(</a><a id="19084" href="https://agda.github.io/agda-stdlib/Relation.Nullary.Negation.html#560" class="Function">contradiction</a> <a id="19098" href="/DenotAdequate/#19070" class="Bound">fv1</a> <a id="19102" class="Bound">nfv1</a><a id="19106" class="Symbol">)</a>
<a id="19108" class="Symbol">...</a> <a id="19112" class="Symbol">|</a> <a id="19114" href="https://agda.github.io/agda-stdlib/Data.Sum.Base.html#500" class="InductiveConstructor">inj₂</a> <a id="19119" href="/DenotAdequate/#19119" class="Bound">fv2</a> <a id="19123" class="Symbol">=</a> <a id="19125" href="https://agda.github.io/agda-stdlib/Data.Empty.html#360" class="Function">⊥-elim</a> <a id="19132" class="Symbol">(</a><a id="19133" href="https://agda.github.io/agda-stdlib/Relation.Nullary.Negation.html#560" class="Function">contradiction</a> <a id="19147" href="/DenotAdequate/#19119" class="Bound">fv2</a> <a id="19151" class="Bound">nfv2</a><a id="19155" class="Symbol">)</a>
<a id="19157" href="/DenotAdequate/#17153" class="CatchallClause Function">↓→𝔼</a><a id="19160" class="CatchallClause"> </a><a id="19161" class="CatchallClause Symbol">{</a><a id="19162" href="/DenotAdequate/#19162" class="CatchallClause Bound">Γ</a><a id="19163" class="CatchallClause Symbol">}</a><a id="19164" class="CatchallClause"> </a><a id="19165" class="CatchallClause Symbol">{</a><a id="19166" href="/DenotAdequate/#19166" class="CatchallClause Bound">γ</a><a id="19167" class="CatchallClause Symbol">}</a><a id="19168" class="CatchallClause"> </a><a id="19169" class="CatchallClause Symbol">{</a><a id="19170" href="/DenotAdequate/#19170" class="CatchallClause Bound">γ&#39;</a><a id="19172" class="CatchallClause Symbol">}</a><a id="19173" class="CatchallClause"> </a><a id="19174" class="CatchallClause Symbol">{</a><a id="19175" href="/DenotAdequate/#19175" class="CatchallClause Bound">M</a><a id="19176" class="CatchallClause Symbol">}</a><a id="19177" class="CatchallClause"> </a><a id="19178" class="CatchallClause Symbol">{</a><a id="19179" href="/DenotAdequate/#19179" class="CatchallClause Bound">v&#39;</a><a id="19181" class="CatchallClause Symbol">}</a><a id="19182" class="CatchallClause"> </a><a id="19183" href="/DenotAdequate/#19183" class="CatchallClause Bound">𝔾γγ&#39;</a><a id="19187" class="CatchallClause"> </a><a id="19188" class="CatchallClause Symbol">(</a><a id="19189" href="/Denot/#10632" class="CatchallClause InductiveConstructor">sub</a><a id="19192" class="CatchallClause Symbol">{</a><a id="19193" class="CatchallClause Argument">v₁</a><a id="19195" class="CatchallClause"> </a><a id="19196" class="CatchallClause Symbol">=</a><a id="19197" class="CatchallClause"> </a><a id="19198" href="/DenotAdequate/#19198" class="CatchallClause Bound">v</a><a id="19199" class="CatchallClause Symbol">}</a><a id="19200" class="CatchallClause"> </a><a id="19201" href="/DenotAdequate/#19201" class="CatchallClause Bound">d</a><a id="19202" class="CatchallClause"> </a><a id="19203" href="/DenotAdequate/#19203" class="CatchallClause Bound">v&#39;⊑v</a><a id="19207" class="CatchallClause Symbol">)</a><a id="19208" class="CatchallClause"> </a><a id="19209" href="/DenotAdequate/#19209" class="CatchallClause Bound">fv&#39;</a>
    <a id="19217" class="Keyword">with</a> <a id="19222" href="/DenotAdequate/#17153" class="Function">↓→𝔼</a> <a id="19226" class="Symbol">{</a><a id="19227" href="/DenotAdequate/#19162" class="Bound">Γ</a><a id="19228" class="Symbol">}</a> <a id="19230" class="Symbol">{</a><a id="19231" href="/DenotAdequate/#19166" class="Bound">γ</a><a id="19232" class="Symbol">}</a> <a id="19234" class="Symbol">{</a><a id="19235" href="/DenotAdequate/#19170" class="Bound">γ&#39;</a><a id="19237" class="Symbol">}</a> <a id="19239" class="Symbol">{</a><a id="19240" href="/DenotAdequate/#19175" class="Bound">M</a><a id="19241" class="Symbol">}</a> <a id="19243" href="/DenotAdequate/#19183" class="Bound">𝔾γγ&#39;</a> <a id="19248" href="/DenotAdequate/#19201" class="Bound">d</a> <a id="19250" class="Symbol">(</a><a id="19251" href="/DenotAdequate/#2891" class="Function">AboveFun-⊑</a> <a id="19262" href="/DenotAdequate/#19209" class="Bound">fv&#39;</a> <a id="19266" href="/DenotAdequate/#19203" class="Bound">v&#39;⊑v</a><a id="19270" class="Symbol">)</a>
<a id="19272" class="Symbol">...</a> <a id="19276" class="Symbol">|</a> <a id="19278" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="19280" href="/DenotAdequate/#19280" class="Bound">c</a> <a id="19282" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="19284" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="19286" href="/DenotAdequate/#19286" class="Bound">M⇓c</a> <a id="19290" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="19292" href="/DenotAdequate/#19292" class="Bound">𝕍v</a> <a id="19295" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="19297" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="19299" class="Symbol">=</a>
      <a id="19307" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="19309" href="/DenotAdequate/#19280" class="Bound">c</a> <a id="19311" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="19313" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="19315" href="/DenotAdequate/#19286" class="Bound">M⇓c</a> <a id="19319" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="19321" href="/DenotAdequate/#12081" class="Function">sub-𝕍</a> <a id="19327" href="/DenotAdequate/#19292" class="Bound">𝕍v</a> <a id="19330" class="Bound">v&#39;⊑v</a> <a id="19335" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="19337" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a></pre>

<ul>
  <li>
    <p>Case (var). Looking up x in γ’ yields some closure, clos L δ,
and from 𝔾 γ γ’ we have 𝔼 (γ x) (clos L δ). With the premise
AboveFun (γ x), we obtain a closure c such that δ ⊢ L ⇓ c
and 𝕍 (γ x) c. To conclude γ’ ⊢ ` x ⇓ c via (⇓-var), we 
need γ’ x ≡ clos L δ, which is obvious, but it requires some
Agda shananigans via the kth-x lemma to get our hands on it.</p>
  </li>
  <li>
    <p>Case (↦-elim). We have γ ⊢ L · M ↓ v.
The induction hypothesis for γ ⊢ L ↓ v₁ ↦ v
gives us γ’ ⊢ L ⇓ clos L’ δ and 𝕍 v (clos L’ δ).
Of course, L’ ≡ ƛ L’’ for some L’’.
By the induction hypothesis for γ ⊢ M ↓ v₁,
we have 𝔼 v₁ (clos M γ’).
Together with the premise AboveFun v and 𝕍 v (clos L’ δ),
we obtain a closure c’ such that δ ⊢ L’’ ⇓ c’ and 𝕍 v c’.
We conclude that γ’ ⊢ L · M ⇓ c’ by rule (⇓-app).</p>
  </li>
  <li>
    <p>Case (↦-intro). We have γ ⊢ ƛ M ↓ v ↦ v’.
We immediately have γ’ ⊢ ƛ M ⇓ clos (ƛ M) γ’ by rule (⇓-lam).
But we also need to prove 𝕍 (v ↦ v’) (clos (ƛ M) γ’).
Let c by an arbitrary closure such that 𝔼 v c.
Suppose v’ is greater than a function value.
We need to show that γ’ , c ⊢ M ⇓ c’ and 𝕍 v’ c’ for some c’.
We prove this by the induction hypothesis for γ , v ⊢ M ↓ v’
but we must first show that 𝔾 (γ , v) (γ’ , c). We prove
that by the lemma 𝔾-ext, using facts 𝔾 γ γ’ and 𝔼 v c.</p>
  </li>
  <li>
    <p>Case (⊥-intro). We have the premise AboveFun ⊥, but that’s impossible.</p>
  </li>
  <li>
    <p>Case (⊔-intro). We have γ ⊢ M ↓ (v₁ ⊔ v₂) and AboveFun (v₁ ⊔ v₂)
and need to show γ’ ⊢ M ↓ c and 𝕍 (v₁ ⊔ v₂) c for some c.
Again, by AboveFun-⊔, at least one of v₁ or v₂ is greater than a function.</p>

    <ul>
      <li>
        <p>Suppose both v₁ and v₂ are greater than a function value.
By the induction hypotheses for γ ⊢ M ↓ v₁ and γ ⊢ M ↓ v₂
we have γ’ ⊢ M ⇓ c₁, 𝕍 v₁ c₁, γ’ ⊢ M ⇓ c₂, and 𝕍 v₂ c₂ for some c₁ and c₂.
Because ⇓ is deterministic, we have c₂ ≡ c₁.
Then by 𝕍⊔-intro we conclude that 𝕍 (v₁ ⊔ v₂) c₁.</p>
      </li>
      <li>
        <p>Without loss of generality, suppose v₁ is greater than a function
value but v₂ is not.  By the induction hypotheses for γ ⊢ M ↓ v₁,
and using 𝕍→WHNF, we have γ’ ⊢ M ⇓ clos (ƛ M’’) γ₁
and 𝕍 v₁ (clos (ƛ M’’) γ₁).
Then because v₂ is not greater than a function, we also have
𝕍 v₂ (clos (ƛ M’’) γ₁). We conclude that 𝕍 (v₁ ⊔ v₂) (clos (ƛ M’’) γ₁).</p>
      </li>
    </ul>
  </li>
  <li>
    <p>Case (sub). We have γ ⊢ M ↓ v, v’ ⊑ v, and AboveFun v’.
We need to show that γ’ ⊢ M ⇓ c and 𝕍 v’ c for some c.
We have AboveFun v by AboveFun-⊑,
so the induction hypothesis for γ ⊢ M ↓ v gives us a closure c
such that γ’ ⊢ M ⇓ c and 𝕍 v c. We conclude that 𝕍 v’ c by sub-𝕍.</p>
  </li>
</ul>

<h2 id="proof-of-denotational-adequacy">Proof of denotational adequacy</h2>

<p>The adequacy property is a corollary of the main lemma.
We have ∅ ⊢ ƛ N ↓ ⊥ ↦ ⊥, so ℰ M ≃ ℰ (ƛ N)
gives us ∅ ⊢ M ↓ ⊥ ↦ ⊥. Then the main lemma gives us ∅ ⊢ M ⇓ c for some c.</p>

<pre class="Agda"><a id="adequacy"></a><a id="22117" href="/DenotAdequate/#22117" class="Function">adequacy</a> <a id="22126" class="Symbol">:</a> <a id="22128" class="Symbol">∀{</a><a id="22130" href="/DenotAdequate/#22130" class="Bound">M</a> <a id="22132" class="Symbol">:</a> <a id="22134" href="/Untyped/#3002" class="InductiveConstructor">∅</a> <a id="22136" href="/Untyped/#4150" class="Datatype Operator">⊢</a> <a id="22138" href="/Untyped/#2694" class="InductiveConstructor">★</a><a id="22139" class="Symbol">}{</a><a id="22141" href="/DenotAdequate/#22141" class="Bound">N</a> <a id="22143" class="Symbol">:</a> <a id="22145" href="/Untyped/#3002" class="InductiveConstructor">∅</a> <a id="22147" href="/Untyped/#3018" class="InductiveConstructor Operator">,</a> <a id="22149" href="/Untyped/#2694" class="InductiveConstructor">★</a> <a id="22151" href="/Untyped/#4150" class="Datatype Operator">⊢</a> <a id="22153" href="/Untyped/#2694" class="InductiveConstructor">★</a><a id="22154" class="Symbol">}</a>  <a id="22157" class="Symbol">→</a>  <a id="22160" href="/Denot/#18470" class="Function">ℰ</a> <a id="22162" href="/DenotAdequate/#22130" class="Bound">M</a> <a id="22164" href="/Denot/#18668" class="Function Operator">≃</a> <a id="22166" href="/Denot/#18470" class="Function">ℰ</a> <a id="22168" class="Symbol">(</a><a id="22169" href="/Untyped/#4238" class="InductiveConstructor Operator">ƛ</a> <a id="22171" href="/DenotAdequate/#22141" class="Bound">N</a><a id="22172" class="Symbol">)</a>
         <a id="22183" class="Symbol">→</a>  <a id="22186" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">Σ[</a> <a id="22189" href="/DenotAdequate/#22189" class="Bound">c</a> <a id="22191" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">∈</a> <a id="22193" href="/DenotAdequate/#5776" class="Datatype">Clos</a> <a id="22198" href="https://agda.github.io/agda-stdlib/Data.Product.html#764" class="Function">]</a> <a id="22200" href="/DenotAdequate/#5974" class="Function">∅&#39;</a> <a id="22203" href="/DenotAdequate/#6207" class="Datatype Operator">⊢</a> <a id="22205" href="/DenotAdequate/#22130" class="Bound">M</a> <a id="22207" href="/DenotAdequate/#6207" class="Datatype Operator">⇓</a> <a id="22209" href="/DenotAdequate/#22189" class="Bound">c</a>
<a id="22211" href="/DenotAdequate/#22117" class="Function">adequacy</a><a id="22219" class="Symbol">{</a><a id="22220" href="/DenotAdequate/#22220" class="Bound">M</a><a id="22221" class="Symbol">}{</a><a id="22223" href="/DenotAdequate/#22223" class="Bound">N</a><a id="22224" class="Symbol">}</a> <a id="22226" href="/DenotAdequate/#22226" class="Bound">eq</a> 
    <a id="22234" class="Keyword">with</a> <a id="22239" href="/DenotAdequate/#17153" class="Function">↓→𝔼</a> <a id="22243" href="/DenotAdequate/#10123" class="Function">𝔾-∅</a> <a id="22247" class="Symbol">((</a><a id="22249" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#167" class="Field">proj₂</a> <a id="22255" href="/DenotAdequate/#22226" class="Bound">eq</a><a id="22257" class="Symbol">)</a> <a id="22259" class="Symbol">(</a><a id="22260" href="/Denot/#10281" class="InductiveConstructor">↦-intro</a> <a id="22268" href="/Denot/#10413" class="InductiveConstructor">⊥-intro</a><a id="22275" class="Symbol">))</a> <a id="22278" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="22280" href="/Denot/#4121" class="InductiveConstructor">⊥</a> <a id="22282" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="22284" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="22286" href="/Denot/#4121" class="InductiveConstructor">⊥</a> <a id="22288" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="22290" href="/Denot/#5698" class="Function">Refl⊑</a> <a id="22296" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="22298" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a>
<a id="22300" class="Symbol">...</a> <a id="22304" class="Symbol">|</a> <a id="22306" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="22308" href="/DenotAdequate/#22308" class="Bound">c</a> <a id="22310" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="22312" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="22314" href="/DenotAdequate/#22314" class="Bound">M⇓c</a> <a id="22318" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="22320" href="/DenotAdequate/#22320" class="Bound">Vc</a> <a id="22323" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="22325" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a> <a id="22327" class="Symbol">=</a> <a id="22329" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟨</a> <a id="22331" href="/DenotAdequate/#22308" class="Bound">c</a> <a id="22333" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">,</a> <a id="22335" href="/DenotAdequate/#22314" class="Bound">M⇓c</a> <a id="22339" href="https://agda.github.io/agda-stdlib/Agda.Builtin.Sigma.html#139" class="InductiveConstructor Operator">⟩</a></pre>

  </div>

  <p style="text-align:center;">
    
    <a alt="Previous chapter" href="/DenotSound/">Prev</a>
    &bullet;
    
    
    <a alt="Source code" href="https://github.com/plfa/plfa.github.io/blob/dev/src/plfa/DenotAdequate.lagda">Source</a>
    
    
    &bullet;
    <a alt="Next chapter" href="/Acknowledgements/">Next</a>
    
</p>


</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Programming Language Foundations in Agda
</h2><div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Philip Wadler</li>
          <li><a class="u-email" href="mailto:wadler@inf.ed.ac.uk">wadler@inf.ed.ac.uk</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/wadler"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">wadler</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3"></div>
    </div><div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Wen Kokke</li>
          <li><a class="u-email" href="mailto:wen.kokke@ed.ac.uk">wen.kokke@ed.ac.uk</a></li>
        </ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/wenkokke"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">wenkokke</span></a></li><li><a href="https://www.twitter.com/wenkokke"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">wenkokke</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3"></div>
    </div>This work is licensed under a <a rel="license" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>
  </div>
</footer>
<!-- Import jQuery -->
<script type="text/javascript" src="/assets/jquery.js"></script>

<!-- Script which allows for foldable code blocks -->
<script type="text/javascript">
 $('div.foldable pre').each(function(){
     var autoHeight = $(this).height();
     var lineHeight = parseFloat($(this).css('line-height'));

     var plus    = $("<div></div>");
     var horLine = $("<div></div>");
     var verLine = $("<div></div>");
     $(this).prepend(plus);
     plus.css({
         'position'         : 'relative',
         'float'            : 'right',
         'right'            : '-' + (0.5 * lineHeight - 1.5) + 'px',
         'width'            : lineHeight,
         'height'           : lineHeight});
     verLine.css({
         'position'         : 'relative',
         'height'           : lineHeight,
         'width'            : '3px',
         'background-color' : '#C1E0FF'});
     horLine.css({
         'position'         : 'relative',
         'top'              : '-' + (0.5 * lineHeight + 1.5) + 'px',
         'left'             : '-' + (0.5 * lineHeight - 1.5) + 'px',
         'height'           : '3px',
         'width'            : lineHeight,
         'background-color' : '#C1E0FF'});
     plus.append(verLine);
     plus.append(horLine);

     $(this).height(2.0 * lineHeight);
     $(this).css('overflow','hidden');

     $(this).click(function(){
         if ($(this).height() == autoHeight) {
             $(this).height(2.0 * lineHeight);
             plus.show();
         }
         else {
             $(this).height('auto');
             plus.hide();
         }
     });
 });
</script>

<!-- Import KaTeX -->
<script type="text/javascript" src="/assets/katex.js"></script>

<!-- Script which renders TeX using KaTeX -->
<script type="text/javascript">
 $("script[type='math/tex']").replaceWith(
     function(){
         var tex = $(this).text();
         return "<span class=\"inline-equation\">" +
                katex.renderToString(tex) +
                "</span>";
     });
 $("script[type='math/tex; mode=display']").replaceWith(
     function(){
         var tex = $(this).text().replace(/%.*?(\n|$)/g,"");
         return "<div class=\"equation\">" +
                katex.renderToString("\\displaystyle "+tex) +
                "</div>";
     });
</script>
</body>

</html>
